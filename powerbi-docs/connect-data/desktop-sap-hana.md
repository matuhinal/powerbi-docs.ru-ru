---
title: Использование SAP HANA в Power BI Desktop
description: Использование SAP HANA в Power BI Desktop
author: davidiseminger
ms.reviewer: ''
ms.custom: seodec18
ms.service: powerbi
ms.subservice: powerbi-desktop
ms.topic: how-to
ms.date: 01/15/2020
ms.author: davidi
LocalizationGroup: Connect to data
ms.openlocfilehash: 3d78ded05d199676708c0000cab043226a47b166
ms.sourcegitcommit: eef4eee24695570ae3186b4d8d99660df16bf54c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/23/2020
ms.locfileid: "85222786"
---
# <a name="connect-to-sap-hana-databases-in-power-bi-desktop"></a>Подключение к базам данных SAP HANA в Power BI Desktop

Теперь с помощью Power BI Desktop вы можете получить доступ к базе данных *SAP HANA* . Для использования SAP HANA на локальном клиентском компьютере нужно установить драйвер ODBC SAP HANA, чтобы подключение к данным SAP HANA в Power BI Desktop работало правильно. Клиентские средства SAP HANA с необходимым драйвером ODBC можно скачать на странице [средств разработки SAP](https://tools.hana.ondemand.com/#hanatools). Кроме того, драйвер можно получить в [центре скачивания программного обеспечения SAP](https://support.sap.com/en/my-support/software-downloads.html). Найдите на портале программного обеспечения клиент *SAP HANA CLIENT* для компьютеров Windows. В связи с частым изменением структуры Центра скачивания программного обеспечения SAP более конкретные рекомендации по навигации по этому сайту недоступны.

Для подключения к базе данных SAP HANA последовательно выберите пункты **Получить данные**, затем **База данных** > **База данных SAP HANA** и **Подключиться**.

![База данных SAP HANA, диалоговое окно "Получить данные" Power BI Desktop](media/desktop-sap-hana/sap-hana-1.png)

При подключении к базе данных SAP HANA укажите имя сервера. Затем в раскрывающемся списке и поле ввода укажите порт.

В этом выпуске SAP HANA в режиме [DirectQuery](desktop-directquery-sap-hana.md) поддерживается в Power BI Desktop и службе Power BI. Вы можете публиковать и отправлять отчеты, использующие SAP HANA в режиме DirectQuery, в службу Power BI. Когда SAP HANA не используется в режиме DirectQuery, вы также можете публиковать и отправлять отчеты в службу Power BI.

## <a name="supported-features-for-sap-hana"></a>Поддерживаемые компоненты SAP HANA

Этот выпуск содержит множество возможностей для работы с SAP HANA, перечисленных в списке ниже.

* Для удобства пользователей соединитель Power BI для SAP HANA использует драйвер SAP ODBC.

* SAP HANA поддерживает DirectQuery и функцию импорта.

* Power BI поддерживает информационные модели HANA, например представления аналитики и вычислений, и отличается оптимизированной навигацией.

* SAP HANA позволяет использовать функцию прямого SQL для подключения к строкам и столбцам таблиц.

* Power BI включает оптимизированную навигацию для моделей HANA.

* Power BI поддерживает переменные и входные параметры SAP HANA.

* Power BI поддерживает представления вычислений на основе HDI-контейнера.

  * Поддержка представлений вычислений на основе HDI-контейнера доступна в общедоступной предварительной версии в выпуске Power BI Desktop за август 2019 года. Чтобы получить доступ к представлениям вычислений на основе HDI-контейнера в Power BI, убедитесь, что пользователи базы данных HANA, используемые с Power BI, имеют разрешение на доступ к контейнеру среды выполнения HDI, где хранятся представления, к которым требуется получить доступ. Чтобы предоставить этот доступ, создайте роль, которая разрешает доступ к контейнеру HDI. Затем назначьте роль пользователю базы данных HANA, который будет использоваться с Power BI. (Этот пользователь также должен иметь разрешение на чтение из системных таблиц в схеме \_SYS\_BI, как обычно.) Подробные инструкции по созданию и назначению ролей базы данных см. в официальной документации SAP. Начните с [этой записи блога о SAP](https://blogs.sap.com/2018/01/24/the-easy-way-to-make-your-hdi-container-accessible-to-a-classic-database-user/).

  * В настоящее время существуют некоторые ограничения для переменных HANA, присоединенных к представлениям вычислений на основе HDI. Эти ограничения обусловлены ошибками на стороне HANA.
  
    Во-первых, невозможно применить переменную HANA к общему столбцу в представлении вычисления на основе HDI-контейнера. Это ограничение можно исправить путем обновления до HANA 2 версии 37.02 и более поздних версий или HANA 2 версии 42 и выше. Во-вторых, значения по умолчанию для переменных и параметров в настоящее время не отображаются в пользовательском интерфейсе Power BI. Ошибка в SAP HANA вызывает это ограничение, но SAP еще не объявил об исправлении.

## <a name="limitations-of-sap-hana"></a>Ограничения SAP HANA

Использование SAP HANA связано с рядом описанных ниже ограничений.

* Строки NVARCHAR усекаются максимум до 4000 символов Юникода.
* SMALLDECIMAL не поддерживается.
* VARBINARY не поддерживается.
* Допустимый диапазон дат — с 30.12.1899 до 31.12.9999.

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения о SAP HANA и DirectQuery см. в следующих статьях.

* [DirectQuery и SAP HANA](desktop-directquery-sap-hana.md)
* [Использование Power BI в DirectQuery](desktop-directquery-about.md)
* [Источники данных Power BI](power-bi-data-sources.md)
* [Включение шифрования для SAP HANA](desktop-sap-hana-encryption.md)
