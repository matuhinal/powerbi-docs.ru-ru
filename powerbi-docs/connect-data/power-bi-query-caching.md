---
title: Кэширование запросов в Power BI Premium
description: Кэширование запросов в Power BI Premium
author: KesemSharabi
ms.author: kesharab
ms.reviewer: bhmerc
ms.service: powerbi
ms.subservice: powerbi-service
ms.topic: how-to
ms.date: 10/04/2019
LocalizationGroup: ''
ms.openlocfilehash: 03e9862a82cef0946bdb81767c659e6afb330fc9
ms.sourcegitcommit: eef4eee24695570ae3186b4d8d99660df16bf54c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/23/2020
ms.locfileid: "85219535"
---
# <a name="query-caching-in-power-bi-premiumembedded"></a>Кэширование запросов в Power BI Premium или Power BI Embedded

Организации с Power BI Premium или Power BI Embedded могут воспользоваться *кэшированием запросов* для ускорения работы с отчетами, связанными с определенным набором данных. Кэширование запросов указывает емкости Premium или Embedded сохранять результаты запросов в локальной службе кэширования, чтобы их вычислением не занимался первоначальный источник данных.

> [!IMPORTANT]
> Кэширование запросов доступно только в Power BI Premium или Power BI Embedded. Оно неприменимо к наборам данных LiveConnect, использующим службы Azure Analysis Services или SQL Server Analysis Services.

Кэшируемые результаты запросов зависят от конкретного контекста пользователей и наборов данных и всегда соответствуют правилам безопасности. Сейчас служба кэширует запросы только для начальной страницы, которую открывает пользователь. Другими словами, запросы не кэшируются при взаимодействии с отчетом. Кэш запросов учитывает [персональные закладки](../consumer/end-user-bookmarks.md#personal-bookmarks) и [постоянные фильтры](https://powerbi.microsoft.com/blog/announcing-persistent-filters-in-the-service/), поэтому запросы, создаваемые персонализированным отчетом, будут кэшироваться. Кэширование запросов также улучшает работу [плиток панели мониторинга](../create-reports/service-dashboard-tiles.md), использующих эти запросы. Особенно эффективная работа обеспечивается при частом доступе к набору данных, не требующему частого обновления. Кэширование запросов также позволяет уменьшить нагрузку на емкость Premium или Embedded за счет сокращения общего количества запросов.

Управление режимом кэширования запросов осуществляется на странице **Параметры** для набора данных в службе Power BI. Доступны три параметра:

- **По умолчанию для емкости**: кэширование запросов отключено
- **Выкл**. Не использовать кэширование запросов для этого набора данных.
- **Вкл**. Использовать кэширование запросов для этого набора данных.

    ![Диалоговое окно кэширования запросов](media/power-bi-query-caching/power-bi-query-3-options.png)

## <a name="considerations-and-limitations"></a>Рекомендации и ограничения

- При изменении параметров кэширования с **Вкл** на **Выкл** все ранее сохраненные результаты запросов для набора данных удаляются из кэша емкости. Кэширование можно отключить явным образом или восстановив значение **Выкл** параметра по умолчанию для емкости, заданное администратором. Отключение кэширования может привести к небольшой задержке при следующей отправке любым отчетом запросов к этому набору данных. Задержка вызывается запросами, которые запускаются по требованию и не используют сохраненные результаты. Кроме того, нужный набор данных может потребоваться загрузить в память, прежде чем он сможет обслуживать запросы.
- При обновлении кэша запросов служба Power BI должна выполнять запросы к базовым моделям данных для получения актуальных результатов. Если кэширование запросов включено для большого количества наборов данных, а емкость Premium или Embedded сильно загружена, то во время обновления кэша может наблюдаться некоторое снижение производительности. Оно вызвано увеличением объема выполняемых запросов.

## <a name="next-steps"></a>Дальнейшие действия

* [Что такое Power BI Premium?](../admin/service-premium-what-is.md)
* [Что такое Power BI Embedded в Azure?](../developer/embedded/azure-pbie-what-is-power-bi-embedded.md)
