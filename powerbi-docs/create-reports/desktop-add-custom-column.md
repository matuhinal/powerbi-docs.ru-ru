---
title: Добавление пользовательского столбца в Power BI Desktop
description: Быстрое создание пользовательского столбца в Power BI Desktop
author: davidiseminger
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-desktop
ms.topic: how-to
ms.date: 10/18/2019
ms.author: davidi
LocalizationGroup: Create reports
ms.openlocfilehash: 2074094f910efa36d449d8f54ada097d253bb2dd
ms.sourcegitcommit: 51b965954377884bef7af16ef3031bf10323845f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/30/2020
ms.locfileid: "91598906"
---
# <a name="add-a-custom-column-in-power-bi-desktop"></a>Добавление пользовательского столбца в Power BI Desktop

Вы можете легко добавить новый пользовательский столбец данных в модель с помощью редактора запросов в Power BI Desktop. С помощью редактора запросов вы создаете и переименовываете свой столбец, создавая [запросы формул PowerQuery M](/powerquery-m/quick-tour-of-the-power-query-m-formula-language) для определения столбца. Для запросов формул PowerQuery M доступен [полный набор справочных материалов по функциям](/powerquery-m/power-query-m-function-reference). 

При создании пользовательского столбца в редакторе запросов Power BI Desktop добавляет его в качестве **примененного действия** в **Параметры запроса**. Его можно поменять, переместить или изменить в любое время.

![Снимок экрана: диалоговое окно "Добавление пользовательского столбца".](media/desktop-add-custom-column/add-custom-column_01.png)

## <a name="use-query-editor-to-add-a-custom-column"></a>Добавление пользовательского столбца с помощью редактора запросов

Чтобы приступить к созданию пользовательского столбца, выполните следующие действия.

1. Запустите Power BI Desktop и загрузите какие-нибудь данные.

2. На вкладке ленты **Главная** выберите **Изменить запросы**, а затем **Изменить запросы** в меню.

   ![Выберите "Изменить запросы"](media/desktop-add-custom-column/add-column-from-example_02.png)

   Появится окно **редактора запросов**. 

2. Выберите **Настраиваемый столбец** на вкладке ленты **Добавление столбца**.

   ![Выберите пользовательский столбец](media/desktop-add-custom-column/add-custom-column_02.png)

   Появится окно **Добавить пользовательский столбец**.

## <a name="the-add-custom-column-window"></a>Окно "Добавить пользовательский столбец"

Окно **Добавить настраиваемый столбец** имеет следующие возможности. 
- Список доступных столбцов в списке **Доступные столбцы** справа.

- Начальное имя пользовательского столбца в поле **Имя нового столбца**. Столбец можно переименовать.

- [Запросы формул PowerQuery M](/powerquery-m/power-query-m-function-reference) в поле **Настраиваемая формула столбца**. Эти запросы создаются путем создания формулы, которой определяется новый столбец. 

   ![Снимок экрана: диалоговое окно "Добавление пользовательского столбца", которое содержит доступные столбцы для выбора.](media/desktop-add-custom-column/add-custom-column_03.png)

## <a name="create-formulas-for-your-custom-column"></a>Создание формул для пользовательского столбца

1. Вы можете выбрать столбец в списке **Доступные столбцы** справа, а затем выбрать команду **Вставить**, чтобы добавить их в формулу пользовательского столбца. Можно также добавить столбец, дважды щелкнув его в списке.

2. При вводе формулы и создании столбца обратите внимание на индикатор в нижней части окна **Добавить настраиваемый столбец**. 

   Если ошибок нет, появятся зеленый флажок и сообщение *Синтаксические ошибки не обнаружены*.

   ![Успешная проверка синтаксиса на странице "Добавить пользовательский столбец"](media/desktop-add-custom-column/add-custom-column_04.png)

   При наличии синтаксической ошибки вы увидите желтый значок предупреждения со ссылкой на место возникновения ошибки в формуле.

   ![Ошибка на странице "Добавить пользовательский столбец"](media/desktop-add-custom-column/add-custom-column_05.png)

3. Нажмите кнопку **ОК**. 

   Power BI Desktop добавляет настраиваемый столбец в модель и добавляет действие **Добавлен пользовательский объект** в список **Примененные действия** в разделе **Параметры запроса**.

   ![Настраиваемый столбец добавлен в параметры запроса](media/desktop-add-custom-column/add-custom-column_06.png)

4. Чтобы изменить настраиваемый столбец, дважды щелкните действие **Добавлен пользовательский объект** в списке **Примененные действия**. 

   Откроется окно **Добавить пользовательский столбец** с созданной формулой пользовательского столбца.

## <a name="use-the-advanced-editor-for-custom-columns"></a>Использование расширенного редактора для настраиваемых столбцов

После создания запроса можно также использовать **расширенный редактор**, чтобы изменить любой шаг запроса. Для этого выполните указанные ниже действия.

1. В окне **редактора запросов** выберите вкладку **Вид** на ленте. 

2. Щелкните **Расширенный редактор**.

   Появившаяся страница **Расширенный редактор** предоставляет возможность полного контроля над запросом. 

   ![Страница "Расширенный редактор"](media/desktop-add-custom-column/add-custom-column_07.png)

   
## <a name="next-steps"></a>Дальнейшие действия

- Существуют другие способы создания пользовательских столбцов, например на основе примеров, предоставленных редактору запросов. Дополнительные сведения см. в разделе [Добавление столбца из примера в Power BI Desktop](desktop-add-column-from-example.md).

- Справочные сведения о Power Query M см. в разделе [Справочник по функциям Power Query M](/powerquery-m/power-query-m-function-reference).