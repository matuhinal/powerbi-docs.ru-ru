---
title: Настройка и использование таблиц дат в Power BI Desktop
description: Узнайте, как настроить таблицу дат и что это означает в Power BI Desktop
author: davidiseminger
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-service
ms.topic: conceptual
ms.date: 05/08/2019
ms.author: davidi
LocalizationGroup: Model your data
ms.openlocfilehash: b2a7f4434ac82a125352eaefdd2417d9039b710f
ms.sourcegitcommit: 7aa0136f93f88516f97ddd8031ccac5d07863b92
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/05/2020
ms.locfileid: "73868609"
---
# <a name="set-and-use-date-tables-in-power-bi-desktop"></a>Настройка и использование таблиц дат в Power BI Desktop

В **Power BI Desktop** столбцы с датами определяются автоматически. Затем создаются иерархии дат и другие метаданные для включения модели от вашего имени. Это происходит в фоновом режиме. Эти встроенные иерархии можно использовать в дальнейшем при создании таких компонентов отчета, как визуальные элементы, таблицы, быстрые меры, срезы и т. д. Для этого в Power BI Desktop от вашего имени создаются скрытые таблицы, которые впоследствии вы можете использовать для отчетов и выражений DAX.

См. сведения об этом автоматическом поведении в описании параметра [автоматических даты и времени в Power BI Desktop](desktop-auto-date-time.md).

Многие специалисты по анализу данных предпочитают создавать собственные таблицы. Можно делать и так. **Power BI Desktop** позволяет указать **таблицу дат** для вашей модели и создавать связанные с датами визуализации, таблицы, быстрые меры и другие элементы, используя данные из этой таблицы. Если вы указываете собственную таблицу дат, вы сами управляете иерархиями дат, созданными в модели, и применяете их для **быстрых мер** и других операций, в которых используется таблица дат вашей модели. 

![](media/desktop-date-tables/date-tables_01.png)

## <a name="setting-your-own-date-table"></a>Настройка собственной таблицы дат

Чтобы настроить **таблицу дат**, выберите нужную таблицу на панели **Поля**. Затем щелкните таблицу правой кнопкой мыши и последовательно выберите в открывшемся меню **Отметить как таблицу дат > Отметить как таблицу дат**, как показано на следующем изображении:

![](media/desktop-date-tables/date-tables_02.png)

Также вы можете указать таблицу, а затем выбрать **Отметить как таблицу дат** на ленте **Моделирование**, как показано ниже.

![](media/desktop-date-tables/date-tables_02b.png)

Если вы указываете собственную **таблицу дат**, в Power BI Desktop выполняются описанные ниже проверки этого столбца и содержащихся в нем данных. Это позволяет убедиться в следующем:

* данные содержат уникальные значения;
* данные содержат значения, отличные от NULL;
* данные содержат значения смежных дат (от начала до конца);
* если это тип данных **Дата/время**, для каждого значения используется одна и та же метка времени.

Есть два вероятных сценария, в которых целесообразно создать собственную таблицу данных:

* Первый вариант — использование канонических или базовых таблицы данных и иерархий. Это таблица, которая соответствует описанным выше критериям проверки для таблицы дат. 

* Второй вариант — использование таблицы из служб Analysis Services, например, таблицы с полем *измерения даты*, в качестве таблицы дат. 

Указав таблицу дат, вы сможете выбрать для дат любой столбец в этой таблице. Вы можете указать, какой столбец использовать. Для этого выберите таблицу на панели **Поля**, щелкните ее правой кнопкой мыши и последовательно выберите **Отметить как таблицу дат > Параметры таблицы дат**. Появится следующее окно, в котором можно выбрать в раскрывающемся списке столбец для использования в качестве таблицы дат.

![](media/desktop-date-tables/date-tables_03.png)

Обратите внимание, что при создании собственной таблицы дат в **Power BI Desktop** иерархии не создаются автоматически, как при выборе другого варианта, когда они встраиваются в модель от вашего имени. Если позднее вы отмените выбор таблицы дат (и у вас больше не будет таблицы дат, настроенной вручную), Power BI Desktop снова автоматически создаст встроенные таблицы дат для столбцов дат в таблице.

Также следует отметить, что когда вы отмечаете таблицу как таблицу дат, встроенная (автоматически созданная) таблица дат в Power BI Desktop удаляется. В таком случае все визуальные элементы или выражения DAX, созданные ранее на основе этих встроенных таблиц, не будут правильно работать. 

## <a name="marking-your-date-table-as-the-appropriate-data-type"></a>Присвоение таблице дат надлежащего типа данных

Если вы создаете собственную **таблицу дат**, необходимо правильно задать тип данных. Для **типа данных** должно быть установлено значение **Дата/время** или **Дата**. Для этого выполните следующие действия:

1. Выберите свою **таблицу дат** на панели **Поля** и при необходимости разверните ее. Выберите столбец, который нужно использовать в качестве даты.
   
    ![](media/desktop-date-tables/date-tables_04.png) 

2. На вкладке **Моделирование** выберите **Тип данных** и щелкните стрелку раскрывающегося списка, чтобы отобразились доступные типы данных.

    ![](media/desktop-date-tables/date-tables_05.png)

3. Укажите тип данных для столбца. 


## <a name="next-steps"></a>Дальнейшие действия

Рекомендуем также ознакомиться со следующими материалами:

* [Автоматические дата и время в Power BI Desktop](desktop-auto-date-time.md)
* [Типы данных в Power BI Desktop](desktop-data-types.md)
