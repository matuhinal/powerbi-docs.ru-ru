---
title: Создание кнопки детализации в Power BI
description: В отчеты Power BI можно добавлять кнопки детализации, которые позволяют настроить отчеты подобно приложениям, чтобы повысить эффективность взаимодействия с пользователями.
author: maggiesMSFT
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-service
ms.topic: conceptual
ms.date: 03/12/2020
ms.author: maggies
LocalizationGroup: Create reports
ms.openlocfilehash: d3cb3c8093446d4417a59c5f64ab6b85a765e3c8
ms.sourcegitcommit: 7aa0136f93f88516f97ddd8031ccac5d07863b92
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/05/2020
ms.locfileid: "79206454"
---
# <a name="create-a-drill-through-button-in-power-bi-preview"></a>Создание кнопки детализации в Power BI (предварительная версия)

При создании кнопки детализации в Power BI можно выбрать действие **Детализация (предварительная версия)** . Этот тип действия создает кнопку, которая осуществляет детализацию до соответствующей страницы, с целью получить подробные сведения, отфильтрованные по определенному контексту.

Кнопка детализации полезна, если требуется повысить вероятность обнаружения важных сценариев детализации в отчетах.

В этом примере после выбора пользователем строки Word в диаграмме активируется кнопка **Подробнее**.

![Кнопка "Подробнее"](media/desktop-drill-through-buttons/power-bi-drill-through-visual-button.png)

При нажатии кнопки **Подробнее** открывается страница "Анализ покупательского поведения" с подробными сведениями. Как видно из визуального элемента слева, страница детализации теперь отфильтрована для Word.

![Отфильтрованный визуальный элемент](media/desktop-drill-through-buttons/power-bi-drill-through-destination.png)

## <a name="set-up-a-drill-through-button"></a>Настройка кнопки детализации

Чтобы настроить кнопку детализации, сначала необходимо [настроить соответствующую страницу детализации](desktop-drillthrough.md) в отчете. Затем необходимо создать кнопку с типом действия **Детализация** и выбрать страницу детализации в качестве**назначения**.

Поскольку кнопка детализации имеет два состояния (активна и неактивна), отображается два варианта подсказок.

![Настройка кнопки детализации](media/desktop-drill-through-buttons/power-bi-create-drill-through-button.png)

Если оставить поля подсказок пустыми, Power BI сгенерирует подсказки автоматически. Эти подсказки основаны на полях назначения и детализации.

Ниже приведен пример автоматически сгенерированной подсказки для неактивной кнопки.

"Чтобы детализировать сведения на странице «Анализ покупательского поведения» (страница назначения), выберите одну точку данных в поле «Продукт» (поле детализации)".

![Автоматически сгенерированная подсказка для неактивной кнопки](media/desktop-drill-through-buttons/power-bi-drill-through-tooltip-disabled.png)

Ниже приведен пример автоматически сгенерированной подсказки для активной кнопки.

"Щелкните для детализации сведений на странице «Анализ покупательского поведения» (страница назначения)".

![Автоматически сгенерированная подсказка для активной кнопки](media/desktop-drill-through-buttons/power-bi-drill-through-visual-button.png)

Однако если необходимо указать собственные подсказки, то всегда можно ввести статическую строку. Пока мы не поддерживаем условное форматирование для подсказок.

Условное форматирование можно использовать для изменения текста кнопки на основе выбранного значения поля. Для этого необходимо создать меру, которая выводит нужную строку на основе функции DAX SELECTEDVALUE.

Ниже приведен пример меры, которая выводит текст "Подробнее о продукте", если НЕ выбрано значение продукта; в противном случае выводится "Подробнее о [выбранный продукт]":

```
String_for_button = If(SELECTEDVALUE('Product'[Product], 0) == 0), "See product details", "See details for " & SELECTEDVALUE('Product'[Product]))
```

После создания меры выберите параметр **Условное форматирование** для текста кнопки:

![Выбор условного форматирования](media/desktop-drill-through-buttons/power-bi-button-conditional-tooltip.png)

Затем выберите меру, созданную для текста кнопки:

![Значение, основанное на поле](media/desktop-drill-through-buttons/power-bi-conditional-measure.png)

При выборе одного продукта кнопка выглядит следующим образом:

"Подробнее о Word"

![При выборе одного значения](media/desktop-drill-through-buttons/power-bi-conditional-button-text.png)

Если выбрано более одного продукта или если продукты не выбраны, кнопка отключена и выглядит следующим образом:

"Подробнее о продукте"

![При выборе нескольких значений](media/desktop-drill-through-buttons/power-bi-button-conditional-text-2.png)

## <a name="pass-filter-context"></a>Передача контекста фильтра

Кнопка работает как обычная детализация, поэтому можно также передавать фильтры по дополнительным полям путем перекрестной фильтрации визуальных элементов, содержащих поле детализации. Например, используя **щелчок** + **нажатая клавиша CTRL** и перекрестную фильтрацию, можно передать на страницу детализации несколько фильтров по магазину, поскольку выполняется перекрестная фильтрация по визуальному элементу, содержащему продукт (поле детализации):

![Передача контекста фильтра](media/desktop-drill-through-buttons/power-bi-cross-filter-drill-through-button.png)

При выборе кнопки детализации вы увидите, как на целевую страницу передаются фильтры по магазину и продукту:

![Фильтры на этой странице](media/desktop-drill-through-buttons/power-bi-button-filters-passed-through.png)

### <a name="ambiguous-filter-context"></a>Неоднозначный контекст фильтра

Поскольку кнопка детализации не привязана к одному визуальному элементу, если выбор неоднозначен, кнопка будет неактивна.

В этом примере кнопка неактивна, так как два визуальных элемента содержат один вариант выбора продукта. Существует неоднозначность относительно того, к какой точке данных следует привязать тот или иной визуальный элементу с помощью действия детализации:

![Неоднозначный контекст фильтра](media/desktop-drill-through-buttons/power-bi-button-disabled-ambiguity.png)

## <a name="limitations"></a>Ограничения

- Эта кнопка не позволяет использовать несколько назначений для одной кнопки.
- Эта кнопка поддерживает только детализацию в пределах одного отчета; иными словами, детализация между отчетами не поддерживается.
- Формат неактивного состояния кнопки связан с классами цветов в теме отчета. Подробнее о [классах цветов](desktop-report-themes.md#setting-structural-colors).
- Действие детализации поддерживается всеми встроенными визуальными элементами и *некоторыми* визуальными элементами, импортированными из AppSource. Однако поддержка *всех* визуальных элементов, импортированных из AppSource, не гарантируется.

## <a name="next-steps"></a>Дальнейшие действия
Дополнительные сведения о похожих функциях и о взаимодействии с кнопками см. в следующих статьях.

* [Создание кнопок](desktop-buttons.md)
* [Использование детализации в отчетах Power BI](desktop-drillthrough.md)
* [Использование закладок для обмена аналитическими сведениями и создания историй в Power BI](desktop-bookmarks.md)

