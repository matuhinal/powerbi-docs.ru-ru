---
title: Развертывание в Power BI
description: Рекомендации по развертыванию, поддержке и мониторингу содержимого при переходе в Power BI.
author: peter-myers
ms.reviewer: asaxton
ms.service: powerbi
ms.subservice: powerbi-service
ms.topic: conceptual
ms.date: 08/20/2020
ms.author: v-pemyer
ms.openlocfilehash: f9268409977b3aa78e1ebda6f1f6b2e732451455
ms.sourcegitcommit: 4e347efd132b48aaef6c21236c3a21e5fce285cc
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/27/2020
ms.locfileid: "92681013"
---
# <a name="deploy-to-power-bi"></a>Развертывание в Power BI

В этой статье описывается **стадия 5** , на которой происходит развертывание, поддержка и мониторинг содержимого при миграции в Power BI.

:::image type="content" source="media/powerbi-migration-deploy-support-monitor/migrate-to-powerbi-stage-5.png" alt-text="Изображение стадий миграции в Power BI. Для вопросов, рассматриваемых в этой статье, выделена стадия 5.":::

> [!NOTE]
> Полное описание приведенного выше изображения см. в статье с [общими сведениями о миграции в Power BI](powerbi-migration-overview.md).

Основной целью стадии 5 является развертывание нового решения Power BI в рабочей среде.

Выходными данными этой стадии является это рабочее решение, готовое к использованию в организации. При работе с гибким методом допускается наличие некоторых запланированных улучшений, которые будут реализованы в будущем. На этой стадии и в рамках непрерывной работы решения большое значение имеют поддержка и мониторинг.

> [!TIP]
> За исключением параллельного выполнения и прекращения использования устаревших отчетов, которые рассматриваются ниже, темы, обсуждаемые в этой статье, также применимы к стандартному проекту реализации Power BI.

## <a name="deploy-to-test-environment"></a>Развертывание в тестовой среде

Для решений, управляемых ИТ-отделом, или решений, критически важных для повышения эффективности бизнеса, обычно существует тестовая среда. Тестовая среда находится между средами разработки и производства и не является обязательной для всех решений Power BI. Тестовая рабочая область может служить отделенным от разработки стабильным расположением и использоваться для пользовательского приемочного тестирования (UAT) перед выпуском в рабочую среду.

Если содержимое опубликовано в рабочей области с емкостью Premium, [конвейеры развертывания](../create-reports/deployment-pipelines-overview.md) могут упростить процесс развертывания в рабочих областях разработки, тестирования и производства. Кроме того, публикацию можно выполнить вручную или с помощью [сценариев PowerShell](https://powerbi.microsoft.com/blog/duplicating-workspaces-by-using-power-bi-cmdlets/).

### <a name="deploy-to-test-workspace"></a>Развертывание в тестовой рабочей области

В число основных действий, выполняемых во время развертывания в тестовой рабочей области, обычно входят следующие.

- **Строки подключения и параметры.** Настройте строки подключения к набору данных, если при разработке и тестировании используются разные источники данных. Для эффективного управления строками подключения можно использовать [параметризацию](../connect-data/service-parameters.md).
- **Содержимое рабочей области.** Опубликуйте наборы данных и отчеты в тестовую рабочую область и создайте панели мониторинга.
- **Приложение.** Опубликуйте [приложение](../consumer/end-user-apps.md), используя содержимое из тестовой рабочей области, если оно будет частью процесса приемочного тестирования. Как правило, разрешения на работу с приложением имеет небольшое количество людей, участвующих в пользовательском приемочном тестировании.
- **Обновление данных.** [Запланируйте обновление набора данных](../connect-data/refresh-scheduled-refresh.md) для любых наборов данных импорта на время, когда происходит активное пользовательское приемочное тестирование.
- **Безопасность.** Обновите или проверьте [роли рабочей области](../collaborate-share/service-new-workspaces.md#roles-in-the-new-workspaces). Доступ к тестовой рабочей области тестирования имеет небольшое количество людей, участвующих в пользовательском приемочном тестировании.

> [!NOTE]
> Дополнительные сведения о вариантах развертывания в рабочие области разработки, тестирования и производства см. в разделе 9 [технического документа по планированию развертывания Power BI Enterprise](https://aka.ms/PBIEnterpriseDeploymentWP).

### <a name="conduct-user-acceptance-testing"></a>Проведение пользовательского приемочного тестирования

Как правило, в пользовательском приемочном тестировании принимают участие бизнес-пользователи, которые являются профильными экспертами. После проверки они подтверждают, что новое содержимое является точным, соответствует требованиям и может быть развернуто для более широкого использования другими лицами.

Степень формальности этого процесса UAT, включая письменные одобрения, будет зависеть от вашей практики управления изменениями.

## <a name="deploy-to-production-environment"></a>Развертывание в рабочей среде

Существует несколько соображений, касающихся развертывания в рабочей среде.

### <a name="conduct-a-staged-deployment"></a>Проведение промежуточного развертывания

Чтобы минимизировать риски и нарушения в работе пользователей, а также при наличии других проблем можно выполнить промежуточное развертывание. Для участия в первом развертывании в рабочей среде может потребоваться небольшая группа пилотных пользователей. При пилотном развертывании пользователей могут попросить предоставить отзывы.

Постепенно предоставляйте разрешения в производственной рабочей области или в приложении, пока все целевые пользователи не получат права доступа к новому решению Power BI.

> [!TIP]
> Используйте [журнал действий Power BI](../admin/service-admin-auditing.md), чтобы понять, как потребители внедряют и используют новое решение Power BI.

### <a name="handle-additional-components"></a>Обработка дополнительных компонентов

В процессе развертывания вам может потребоваться вместе администраторами Power BI выполнить другие требования, необходимые для поддержки всего решения, например:

- **Обслуживание шлюза.** Может потребоваться зарегистрировать [новый источник данных](../connect-data/service-gateway-data-sources.md) в шлюзе данных.
- **Драйверы и соединители шлюза.** Для нового собственного источника данных может потребоваться установить новый драйвер или пользовательский соединитель на каждом сервере в кластере шлюза.
- **Создание емкости Premium.** Вы можете использовать существующую [емкость Premium](../admin/service-premium-capacity-manage.md). Но возможны ситуации, когда требуется новая емкость Premium. Например, если вы намеренно хотите отделить рабочую нагрузку отдела.
- **Настройка потока данных Power BI.** Действия по подготовке данных можно настроить один раз в [потоке данных Power BI](../transform-model/service-dataflows-overview.md) с помощью Power Query Online. Это позволит избежать выполнения повторяющихся действий по подготовке данных во многих разных файлах Power BI Desktop.
- **Регистрация нового визуального элемента организации.** На портале администрирования можно зарегистрировать [визуальный элемент организации](../developer/visuals/power-bi-custom-visuals-organization.md) и другие пользовательские визуальные элементы, созданные в источнике, отличном от AppSource.
- **Задание рекомендуемого содержимого.** Существует параметр клиента, который определяет, кто может [рекомендовать содержимое](https://powerbi.microsoft.com/blog/promote-your-reports-dashboards-and-apps-on-power-bi-home/) на домашней странице службы Power BI.
- **Задание меток конфиденциальности.** Все [метки конфиденциальности](../admin/service-security-data-protection-overview.md) интегрированы в Microsoft Information Protection

### <a name="deploy-to-production-workspace"></a>Развертывание в производственной рабочей области

В число основных действий, выполняемых во время развертывания в производственной рабочей области, обычно входят следующие.

- **Управление изменениями.** При необходимости получите разрешение на развертывание и сообщите о развертывании пользователям, используя стандартные методы управления изменениями. Может существовать утвержденный период управления изменениями, в течение которого допускается выполнение развертываний в рабочей среде. Обычно он применяется к содержимому, управляемому ИТ-отделом, и гораздо реже применяется к самостоятельно управляемому содержимому.
- **План отката.** При миграции ожидается, что перенос нового решения происходит впервые. Если контент уже существует, целесообразно иметь план по возвращению к предыдущей версии, когда в этом возникнет необходимость. В этом случае будут полезны предыдущие версии файлов Power BI Desktop (с использованием управления версиями SharePoint или OneDrive).
- **Строки подключения и параметры.** Настройте строки подключения к набору данных, если при разработке и производстве используются разные источники данных. Для достижения этой цели отлично подойдет [параметризация](../connect-data/service-parameters.md).
- **Обновление данных.** [Запланируйте обновление набора данных](../connect-data/refresh-scheduled-refresh.md) для всех импортированных наборов данных
- **Содержимое рабочей области.** Опубликуйте наборы данных и отчеты в производственную рабочую область и создайте панели мониторинга. Если содержимое опубликовано в рабочие области с емкостью Premium, [конвейеры развертывания](../create-reports/deployment-pipelines-overview.md) могут упростить процесс развертывания в рабочих областях разработки, тестирования и производства.
- **Приложение.** Если приложения являются частью стратегии распространения содержимого, опубликуйте [приложение](../consumer/end-user-apps.md), используя содержимое из производственной рабочей области.
- **Безопасность.** Обновите и проверьте [роли рабочей области](../collaborate-share/service-new-workspaces.md#roles-in-the-new-workspaces) в зависимости от стратегии распространения содержимого и совместной работы.
- **Параметры наборов данных.** Обновите и проверьте параметры для всех наборов данных, включая:
  - [подтверждение](../collaborate-share/service-endorse-content.md) (например, сертифицированный или с повышенным уровнем);
  - подключение к шлюзу или учетные данные источника данных.
  - Запланированное обновление
  - [Популярные вопросы в разделе "Вопросы и ответы"](../create-reports/service-q-and-a-create-featured-questions.md)
- **Параметры отчетов и панелей мониторинга.** Обновите и проверьте параметры для всех отчетов и панелей мониторинга. Ниже перечислены наиболее важные параметры.
  - Описание
  - Контактное лицо или группа
  - [Метка конфиденциальности](../admin/service-security-apply-data-sensitivity-labels.md)
  - [Рекомендуемое содержимое](https://powerbi.microsoft.com/blog/promote-your-reports-dashboards-and-apps-on-power-bi-home/)
- **Подписки.** При необходимости настройте подписки на отчеты.

> [!IMPORTANT]
> Сейчас вы достигли важной вехи. Отметьте свои успехи по завершению миграции.

### <a name="communicate-with-users"></a>Взаимодействие с пользователями

Объявите потребителям о новом решении. Сообщите им, где можно найти содержимое, а также связанную документацию, ответы на часто задаваемые вопросы и руководства. Чтобы представить пользователям новое содержимое, можно провести так называемый обеденный семинар или подготовить для презентации несколько видеороликов по запросу.

Нужно обязательно добавить инструкции по запросу справки, а также о том, как отправить отзыв.

### <a name="conduct-a-retrospective"></a>Проведение ретроспективного собрания

Проведите ретроспективное собрание, чтобы узнать, что в рамках недавней миграции было реализовано успешно и что можно улучшить при следующей миграции.

## <a name="run-in-parallel"></a>Параллельное выполнение

Во многих ситуациях новое решение будет выполняться параллельно с устаревшим решением в течение предварительно определенного времени. Ниже перечислены преимущества параллельного выполнения.

- Сокращение рисков, особенно если отчеты считаются критически важными.
- Предоставление пользователям времени на знакомство с новым решением Power BI.
- Использование перекрестных ссылок на данные, представленные в Power BI, в устаревших отчетах.

## <a name="decommission-the-legacy-report"></a>Прекращение использования устаревших отчетов

В какой-то момент отчеты, перенесенные в Power BI, должны быть отключены на устаревшей платформе бизнес-аналитики. Потребность в прекращении использования устаревших отчетов может возникать в следующих случаях:

- Истек предварительно заданный период параллельного выполнения (это время должно быть известно пользователям). Обычно это 30–90 дней.
- Все пользователи устаревшей системы имеют доступ к новому решению Power BI.
- Устаревший отчет больше не используется для выполнения важных задач.
- Новое решение Power BI не привело к возникновению проблем, которые могли бы повлиять на продуктивность работы пользователей.

## <a name="monitor-the-solution"></a>Мониторинг решения

События из [журнала действий Power BI](../admin/service-admin-auditing.md) помогают понять варианты использования нового решения (или из [журнала выполнения](/sql/reporting-services/report-server/report-server-executionlog-and-the-executionlog3-view) для содержимого, развернутого на Сервере отчетов Power BI). Анализ журнала действий позволит определить, отличается ли реальное использование от ожидаемого. Кроме того, с его помощью можно проверить, поддерживается ли решение должным образом.

Ниже приведены некоторые вопросы, ответы на которые можно получить, просмотрев журнал действий.

- Как часто просматривается содержимое?
- Кто просматривает содержимое?
- Где обычно просматривается содержимое: в приложении или рабочей области?
- Большинство пользователей используют браузер или мобильное приложение?
- Используются ли подписки?
- Создаются на основе этого решения новые отчеты?
- Часто ли обновляется содержимое?
- Как определена безопасность?
- Проблемы, например сбои обновления данных, возникают регулярно?
- Происходят ли какие-либо настораживающие действия (например, активная деятельность по экспорту или многочисленные обращения к отдельным отчетам), которые могли бы означать необходимость в дополнительном обучении?

> [!IMPORTANT]
> Убедитесь, что журнал действий не остается без внимания и регулярно просматривается. Обычная запись и сохранение истории действительно имеют значение для проведения аудита или обеспечения соответствия требованиям. Однако подлинная ценность заключается в том, если на основе зафиксированных данных могут быть приняты упреждающие меры.

## <a name="support-the-solution"></a>Поддержка решения

Наступающий после завершения миграции период крайне важен для исправления ошибок и устранения проблем, связанных с производительностью. Со временем по мере развития потребностей бизнеса перенесенное решение, скорее всего, будет претерпевать изменения.

В зависимости от того, каким образом осуществляется управление самостоятельной бизнес-аналитикой в организации, применяются разные варианты поддержки. Активные сторонники Power BI во всех бизнес-подразделениях часто неофициально оказывают оперативную поддержку. Хотя это и неформальная роль, она крайне важна и ее следует поощрять.

Наличие официального процесса поддержки, в котором задействованы ИТ-специалисты, занимающиеся запросами в службу поддержки, также необходимо для обработки стандартных запросов, касающихся работы системы, и для эскалации проблем.

В вашей организации может действовать [Центр компетенции (COE)](center-of-excellence-establish.md) — внутренняя группа консультантов, которая поддерживает Power BI, управляет этой службой и проводит соответствующее обучение. Члены COE могут контролировать полезное содержимое Power BI на внутреннем портале.

Потребители содержимого должны четко знать, к кому они могут обращаться с вопросами, касающимся содержимого. Кроме того, им должен быть доступен механизм обратной связи для отправки предложений.

## <a name="next-steps"></a>Дальнейшие действия

В [последней статье этой серии](powerbi-migration-learn-from-customers.md) приводятся истории клиентов, выполнивших миграцию в Power BI.

Другие полезные ресурсы:

- [Преобразование бизнес-аналитики с Майкрософт](center-of-excellence-microsoft-business-intelligence-transformation.md)
- [Технический документ по планированию развертывания Power BI Enterprise](https://aka.ms/PBIEnterpriseDeploymentWP)
- У вас появились вопросы? [Попробуйте задать вопрос в сообществе Power BI.](https://community.powerbi.com/)
- У вас есть предложения? [Идеи по улучшению Power BI](https://ideas.powerbi.com/)

Вы можете обратиться к опытным партнерам по Power BI, которые помогут вашей организации выполнить процесс переноса. Чтобы обратиться к партнеру по Power BI, посетите [портал партнеров Power BI](https://powerbi.microsoft.com/partners/).
