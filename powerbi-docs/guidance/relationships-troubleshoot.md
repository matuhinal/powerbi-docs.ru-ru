---
title: Руководство по устранению неполадок со связями
description: Руководство по устранению неполадок со связями модели.
author: peter-myers
ms.reviewer: asaxton
ms.service: powerbi
ms.subservice: powerbi-desktop
ms.topic: conceptual
ms.date: 03/02/2020
ms.author: v-pemyer
ms.openlocfilehash: 9588b608e3d3ab33f87de13cd415e14cd1f5e920
ms.sourcegitcommit: 701dd80661a63c76d37d1e4f159f90e3fc8c3160
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/24/2020
ms.locfileid: "91136127"
---
# <a name="relationship-troubleshooting-guidance"></a>Руководство по устранению неполадок со связями

В этой статье описаны средства моделирования данных, работающие с Power BI Desktop. Здесь содержатся рекомендации по устранению конкретных проблем, которые могут возникнуть при разработке моделей и отчетов.

[!INCLUDE [relationships-prerequisite-reading](includes/relationships-prerequisite-reading.md)]

## <a name="troubleshooting-checklist"></a>Контрольный список по устранению неполадок

Если визуальный элемент отчета настроен на использование полей из двух (или более) таблиц и не представляет правильный результат (или любой результат), возможно проблема связана со связями модели.

Если это так, ниже приведен общий контрольный список по устранению неполадок. Вы можете последовательно работать с контрольным списком, пока не определите проблемы.

1. Переключите визуальный элемент на таблицу или матрицу или откройте область "Показать данные" — устранять неполадки проще, если вы видите результат запроса.
1. Если результат запроса пуст, переключитесь на представление "Данные" (убедитесь, что таблицы заполнены строками данных).
1. Переключитесь в представление "Модель" — вы сможете легко увидеть связи и быстро определить их свойства.
1. Убедитесь, что между таблицами существуют связи.
1. Убедитесь, что свойства кратности настроены правильно — они могут быть неправильными, если столбец стороны "многие" содержит уникальные значения, однако по ошибке настроен со стороной "один".
1. Проверка активности связей (сплошная линия)
1. Убедитесь, что направления фильтра поддерживают распространение (интерпретируемые головки стрелок).
1. Убедитесь, что соответствующие столбцы связаны — выберите связь, либо наведите на нее курсор, чтобы отобразить связанные столбцы.
1. Убедитесь, что связанные типы данных столбца совпадают или по крайней мере совместимые. Вы можете связать текстовый столбец со столбцом с целым числом, однако тогда фильтры не найдут соответствий для распространения
1. Переключитесь в представление "Данные" и убедитесь, что соответствующие значения можно найти в связанных столбцах.

## <a name="troubleshooting-guide"></a>Руководство по устранению неполадок

Ниже приведен список проблем и их возможные решения.

|Проблема|Возможные причины|
|---------|---------|
|Визуальный элемент не отображает результат|— Модель еще не загружена данными<br />— Данные в контексте фильтра не существуют<br />— Применяется защита на уровне строк<br />— Связи не распространяются между таблицами — _следуйте контрольному списку выше_<br />— Защита на уровне строк применяется принудительно, но двунаправленная связь не включена для распространения — см. статью [Ограничение доступа к данным с помощью безопасности на уровне строк (RLS) для Power BI Desktop](../create-reports/desktop-rls.md)|
|Визуальный элемент отображает одно и то же значение для каждой группировки |— Связи не существуют<br />— Связи не распространяются между таблицами — _следуйте контрольному списку выше_|
|Визуальный элемент отображает результаты, но они неправильные|— Визуальный элемент настроен неправильно<br />— Неправильная логика меры<br />— Данные модели следует обновить<br />— Исходные данные неправильные<br />— Столбцы связи неправильно связаны (например, столбец **ProductID** сопоставляется с **CustomerID**)<br />— Это связь между двумя таблицами DirectQuery, а столбец стороны "один" связи содержит дублирующиеся значения.|
|Отображаются пустые группирования, элементы среза и фильтра, а исходные столбцы не содержат пустых ячеек|— Это обычная связь, а столбцы стороны "многие" содержат значения, не хранящиеся в столбце стороны "один" — см. раздел ["Обычные связи" в статье "Связи модели в Power BI Desktop"](../transform-model/desktop-relationships-understand.md#regular-relationships)<br />— Это обычная связь "один к одному", а связанные столбцы содержат пустые ячейки — см. раздел ["Обычные связи" в статье "Связи модели в Power BI Desktop"](../transform-model/desktop-relationships-understand.md#regular-relationships)<br />— Неактивная связь стороны "многие" сохраняет пустые значения или имеет значения, не сохраненные на стороне "один"|
|В визуальном элементе отсутствуют данные|— Применены неправильные или непредвиденные фильтры<br />— Применяется защита на уровне строк<br />— Это ограниченная связь, в связанных столбцах есть пустые значения или проблемы целостности данных — см. раздел ["Ограниченные связи" в статье "Связи модели в Power BI Desktop"](../transform-model/desktop-relationships-understand.md#limited-relationships)<br />— Это связь между двумя таблицами DirectQuery, настроенная на значение [Предполагать целостность данных](../transform-model/desktop-relationships-understand.md#assume-referential-integrity), однако существуют проблемы с целостностью данных (несовпадение значений в соответствующих столбцах)|
|Несоблюдение правил безопасность на уровне строк|— Связи не распространяются между таблицами — _следуйте контрольному списку выше_<br />— Защита на уровне строк применяется принудительно, но двунаправленная связь не включена для распространения — см. статью [Ограничение доступа к данным с помощью безопасности на уровне строк (RLS) для Power BI Desktop](../create-reports/desktop-rls.md)|
|||

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения, связанные с темой этой статьи, см. в следующих ресурсах.

- [Связи модели в Power BI Desktop](../transform-model/desktop-relationships-understand.md)
- У вас появились вопросы? [Попробуйте задать вопрос в сообществе Power BI.](https://community.powerbi.com/)
- У вас есть предложения? [Идеи по улучшению Power BI](https://ideas.powerbi.com/)
