---
title: "Рекомендации по проектированию отчетов и визуализаций (технический документ)"
description: "Технический документ. Рекомендации по проектированию отчетов в Power BI"
services: powerbi
documentationcenter: 
author: mihart
manager: kfile
backup: 
editor: 
tags: 
qualityfocus: 
qualitydate: 
ms.service: powerbi
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: powerbi
ms.date: 12/21/2017
ms.author: mihart
ms.openlocfilehash: 202f92b9c7089a4bd9bb5dd976051bba47da632e
ms.sourcegitcommit: 6ea8291cbfcb7847a8d7bc4e2b6abce7eddcd0ea
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/21/2017
---
# <a name="best-design-practices-for-reports-and-visuals"></a>Рекомендации по проектированию отчетов и визуализаций
<!-- Shared newnav Include -->
[!INCLUDE [newnavbydefault](./includes/newnavbydefault.md)]

## <a name="introduction"></a>Введение
Этот документ содержит рекомендации по проектированию отчетов в Power BI. В нем рассматриваются принципы проектирования, начиная с этапа планирования, которые можно применять для создания отчетов, а также входящих в них страниц и отдельных визуальных элементов.  Многие из этих рекомендаций можно использовать и при проектировании панели мониторинга.

Мы надеемся, что этот документ послужит вам хорошей отправной точкой, и вы сможете применять полученные знания для создания собственных отчетов и визуализаций. Кроме того, мы всегда готовы продолжить общение на сайте community.powerbi.com. Так как проектирование отчетов и использование визуализаций в Power BI сейчас очень актуально, эта тема широко освещается и популяризируется многими авторами и блоггерами на многих ресурсах (в конце документа мы перечислили некоторых из них).   

> [!NOTE]
> В этом документе собраны общие рекомендации, которые вы можете применять по необходимости. При этом каждый описываемый нами принцип может в некоторых случаях нарушаться.
> 
> 

*Мы перегружены информацией не потому, что ее слишком много, но потому, что не умеем ее осваивать.*
— Стивен Фью.

## <a name="a-look-at-the-landscape-and-terminology"></a>Описание среды и терминология
В Power BI отчет может включать одну или несколько страниц. Совокупно все эти страницы именуются отчетом. Основные элементы отчета — это визуальные элементы (визуализации), отдельные изображения и текстовые поля. Доступно множество параметров форматирования, которые применимы как к отдельным точкам данных, так и к элементам отчета, включая страницы.

Мы начнем с этапа планирования отчета, затем рассмотрим базовые принципы проектирования отчета, обсудим принципы проектирования визуализаций, и в заключение предложим современные рекомендации по использованию отдельных типов визуализаций.

Подробные инструкции по созданию и использованию отчетов Power BI см. на сайте **powerbi.com в разделе "Обучение"**.

## <a name="before-you-build-your-first-visualizationfocus-on-requirements"></a>Создавая визуализации, помните о требованиях
Работа над отчетом начинается еще до создания первой визуализации: чтобы получить качественный отчет, его нужно тщательно спланировать.  Определите характер используемых данных и запишите все требования к новому отчету. Найдите ответ на вопрос о том, какую бизнес-задачу вы решаете, а также как и кем будут использоваться эти данные. И еще на один, самый важный: какие решения сможет принять читатель на основе этого отчета?

Ответы на эти вопросы и определят требования к проекту. Каждый отчет — это история. Убедитесь, что ваша история соответствует поставленной бизнес-задаче. Иногда есть искушение добавить визуализации с эффектными данными. Но если эти данные не соответствуют бизнес-задаче, отчет не будет полезным. Более того, таким образом вы только отвлечете внимание пользователей. Также вы можете обнаружить, что сведения, необходимые для принятия решения, невозможно получить из представленных вами данных. Позволяет ли этот отчет оценить именно то, что нужно?

Отчеты помогают выполнять поиск, отслеживание, прогнозирование, измерение и тестирование, управление, мониторинг и множество других операций с данными. Например, если вашей организации нужен отчет о продажах для оценки производительности, вы можете включить в такой отчет анализ текущих продаж, сравнение с продажами за прошлые периоды, сравнение с аналогичными показателями конкурентов, а также ряд ключевых индикаторов производительности, которые активируют оповещения.  Возможно, читатели захотят подробно изучить статистику продаж, чтобы найти проблемы, связанные с работой магазина или цепочкой поставок, которые влияют на объем продаж.  Также полезной может оказаться группировка данных о продажах по магазинам, регионам, товарам, сезонам и т. п.

Подумайте, кто будет использовать ваш отчет, и включите в него привычную для целевой аудитории терминологию и данные соответствующего уровня детализации и сложности. А что, если предполагается разнородная аудитория? Это означает разные задачи. Создайте для разных групп пользователей разные страницы отчета с учетом уровня их осведомленности, обязательно обозначив соответствующим образом каждую страницу. Так ваши читатели смогут сами разобраться в представленной информации. Или же можно включить срезы, чтобы пользователи могли изменять содержимое страницы в соответствии со своими задачами. Думайте о своей аудитории при планировании отчета, чтобы избежать типичной ошибки — подмены потребностей пользователей своими представлениями о них.  Будьте готовы в любой момент начать все сначала.

Когда вы определите бизнес-задачу, целевую аудиторию и необходимые для отчета метрики, переходите к следующему шагу. Теперь вам нужно выбрать наиболее уместные визуальные элементы и наиболее эффективный метод их подачи. Это достаточно обширная тема, поэтому для начала мы рассмотрим базовые принципы проектирования отчета.

## <a name="principles-of-report-design"></a>Принципы проектирования отчета
На странице отчета не очень много места, поэтому вместить все нужные элементы, сохраняя информативность и наглядность, действительно непросто. При этом нельзя недооценивать и эстетический фактор. Залог успеха — найти баланс между эстетикой и утилитарностью.

Давайте рассмотрим такие понятия, как макет, наглядность и эстетика.

### <a name="layout---the-report-canvas"></a>Макет — холст отчета
Холст отчета — это достаточно ограниченное в размерах пространство.  Если на одну страницу отчета не вмещаются все нужные элементы, разбейте документ на несколько страниц.  Страницы отчета можно адаптировать под определенную аудиторию (отдел кадров, ИТ-отдел, продажи, стратегическое руководство и т. п.). Можно сгруппировать страницы по определенным бизнес-вопросам (влияние дефектов на время простоя, влияние маркетинговых кампаний на мнения и т. п.). На страницах можно последовательно разворачивать данные (например, на первой странице представить общий обзор или привлекающий внимание факт, а на следующих поместить анализ данных, более подробные сведения и т. д.).  Хорошо, если весь отчет помещается на одной странице. Если нет, разделите его на несколько страниц в соответствии с логикой повествования.  Не забывайте присваивать страницам имена, которые помогут читателям разобраться в структуре.

Рассматривайте этот процесс по аналогии с оформлением картинной галереи. Никто же не станет вешать на стены маленькой комнаты сразу 50 картин, заполняя ее стульями до отказа и окрашивая каждую стену в разные цвета. Вы, как куратор галереи, отвечаете за то, чтобы все элементы были тематически связаны, чтобы их расположение оставляло посетителям пространство для передвижений и размышлений, чтобы все элементы сопровождались табличками с полезным описанием. Практически во всех современных галереях стены оформлены очень просто, и тому есть причина.
Давайте для примера рассмотрим отчет, который необходимо структурировать.  Применяя рекомендации и принципы проектирования, мы увидим, как он улучшается.

![](media/power-bi-visualization-best-practices/power-bi-example1newa.png)

**Рисунок 1. Над этой страницей отчета требуется основательно поработать**

Этот пример — одна сплошная проблема с размещением элементов (все это мы обсудим далее):

* выравнивание, упорядочивание и взаиморасположение элементов;
* неоптимальное использование пространства и сортировки;
* визуальный мусор.

### <a name="alignment-order-and-proximity"></a>Выравнивание, упорядочивание и взаиморасположение элементов
Макет отчета влияет на восприятие, определяя порядок, в котором читатель изучает страницу отчета. Расположение и взаимодействие элементов — это визуальное представление вашего повествования.  Например, с помощью макета вы можете указать читателю, куда и в каком порядке ему следует смотреть, и как представленные элементы связаны друг с другом.

* Люди преимущественно читают слева направо и сверху вниз. Поэтому самый важный элемент следует располагать в левом верхнем углу отчета. Остальные визуализации расположите так, чтобы взгляд по ним скользил в соответствии с логикой изучения информации.
* Элементы, на основе которых принимаются решения, размещайте слева от визуализаций, на которые эти решения повлияют (например, при использовании срезов).
* Связанные элементы располагайте ближе друг к другу. Близость подразумевает наличие связи между элементами.
* Также связи можно подчеркнуть общей границей или цветом фона вокруг связанных элементов. И наоборот, между независимыми частями отчета поместите разделитель.
* Используйте свободное пространство так, чтобы визуально разделить части отчета, представленные на странице.
* Заполните страницу отчета. Если вы видите, что свободного пространства слишком много, увеличьте визуализации или уменьшите размер холста.
* Осмысленно выбирайте размеры элементов отчета. Размер визуализации не должен определяться только наличием свободного пространства.
* Важные элементы следует делать крупнее, чем остальные. Для привлечения внимания используйте дополнительные визуальные элементы, например стрелки.
* Выравнивайте элементы на странице отчета так, чтобы создать симметрию или, наоборот, подчеркнуть ее отсутствие.

Давайте рассмотрим принцип выравнивания более подробно.

#### <a name="alignment"></a>Выравнивание
Выравнивание не означает, что все компоненты должны быть одинакового размера или что в каждой строке отчета должно быть одинаковое число компонентов. Выравнивание означает, что структура страницы просто должна способствовать удобству навигации и восприятию информации.

Ниже мы видим обновленный отчет, компоненты которого теперь выровнены по левому и правому краям, а каждая строка — еще и по горизонтали и вертикали. Элементы управления срезами расположены слева от визуализаций, на которые они влияют.

![](media/power-bi-visualization-best-practices/power-bi-example2new.png)

**Рисунок 2. Тот же неупорядоченный отчет, но с улучшенным макетом**

Power BI содержит инструменты, которые помогают выравнивать визуализации. Выбрав в Power BI Desktop несколько визуализаций, вы можете упорядочить их с помощью элемента **Выровнять и распределить**, размещенного на вкладке **Визуализации**.

![](media/power-bi-visualization-best-practices/power-bi-visualization.png)

**Рисунок 3. Выравнивание визуализаций в Power BI Desktop**

Также в Power BI Оnline и Power BI Desktop можно точно настроить размер и положение визуализаций. Используйте для этого вкладку **Общие** на панели форматирования любой визуализации.

![](media/power-bi-visualization-best-practices/power-bi-align-vizs.png)

**Рисунок 4. Настройка точного положения визуализации**

На странице отчета из нашего примера (рис. 2) параметру **Позиция по оси X** для двух карт и большой границы присвоено одинаковое значение 200.

#### <a name="fit-to-the-space"></a>Заполнение пространства
Старайтесь наиболее эффективно использовать все доступное пространство.  Если вы знаете, как пользователи будут просматривать или демонстрировать ваш отчет, учитывайте это при проектировании. Исключайте пустое пространство, заполняя холст целиком.  И старайтесь не допускать полосы прокрутки на отдельных визуализациях.  Заполняя пространство, также не допускайте скученности элементов.

##### <a name="adjust-the-page-size"></a>Настройка размера страницы
Если вы уменьшите размер страницы, отдельные элементы станут крупнее по отношению к странице. Для этого отмените выбор всех визуализаций на странице с помощью вкладки **Размер страницы** на панели форматирования.  

Ниже представлена одна и та же страница отчета с соотношением сторон 4:3 и 16:9. Посмотрите, насколько лучше она смотрится в формате 16:9. Здесь даже осталось достаточно места, чтобы убрать полосу прокрутки из второй визуализации.

![](media/power-bi-visualization-best-practices/power-bi-page-view-before.png)

**Рисунок 5а. Страница отчета с соотношением сторон 4:3**

![](media/power-bi-visualization-best-practices/power-bi-page-view-after.png)

**Рисунок 5б. Страница отчета с соотношением сторон 16:9**

Ваш отчет будут просматривать на экране с соотношением сторон 4:3 или 16:9? Или другого формата? Это будет небольшой экран или наоборот, огромный? А может быть, будут использоваться экраны всех представленных размеров и форм?  Учитывайте это при проектировании.

На странице отчета из нашего примера несколько тесновато. Отменив выбор визуализаций, откройте панель форматирования, щелкнув значок валика. Разверните раздел **Размер страницы** и введите значение 900 для параметра **Высота**.

![](media/power-bi-visualization-best-practices/power-bi-page-size.png)

**Рисунок 6. Увеличение высоты страницы**

#### <a name="reduce-clutter"></a>Устранение мусора
Переполненную мусором страницу отчета сложно просматривать. Иногда настолько, что читатели даже не будут пытаться.  Исключите все ненужные элементы отчета. Не привносите избыточность, которая только мешает восприятию или навигации. Страница отчета должна отражать информацию настолько четко, быстро и связно, насколько это возможно.

Эдвард Тафти (Edward Tufte) в своей книге *The Visual Display of Quantitative Information* (Визуальное представление количественных данных) называет этот принцип "соотношением данных и чернил".  Иными словами, удаляйте все, кроме самого важного.

Исключив мусор, вы освободите пространство на странице отчета и получите больше возможностей для применения рекомендаций из раздела о выравнивании, упорядочивании и взаиморасположении элементов.

Теперь наш пример стал выглядеть еще лучше. Мы удалили гору мусора, преобразовали и геометрически структурировали элементы.  Фоновое изображение отправилось в мусорную корзину, ненужные стрелка и текстовое поле — следом за ним, одна визуализация переместилась на другую страницу отчета, и т. д. Также мы удлинили страницу, чтобы добавить больше свободного пространства.

![](media/power-bi-visualization-best-practices/power-bi-example3newer.png)

**Рисунок 7. Наш неструктурированный отчет после устранения мусора**

### <a name="tell-a-story-at-a-glance"></a>Краткость — сестра таланта
Качество отчета проверяется тем, сможет ли человек без опыта в предметной области быстро уловить суть без дополнительных комментариев. Читатель должен с первого взгляда понять, о чем эта страница отчета, включая каждую диаграмму или таблицу на ней.   

Когда читатель смотрит на отчет, его внимание должен привлечь именно тот элемент, который вы хотите продемонстрировать первым. Затем взгляд читателя перемещается слева направо и сверху вниз.  Можно изменять эту схему, добавляя визуальные подсказки: текстовые поля, фигуры, границы, размер и цвет элементов.  

#### <a name="text-boxes"></a>Текстовые поля
Иногда заголовки визуализаций не могут передать всю суть.  Дополните их текстовыми полями с информацией для пользователей, которые будут изучать ваш отчет.  С помощью текстовых полей можно описать страницу отчета, сгруппировать визуализации или дать пояснения к некоторым из них. Текстовые поля могут описывать результаты, подробно раскрывать смысл визуализаций, описывать их отдельные компоненты или связи между ними. Текстовые поля могут привлекать внимание читателя, предлагая различные критерии оценки.

В службе Power BI выберите элемент **Текстовое поле** в верхней строке меню. (В Power BI Desktop выберите элемент **Текстовое поле** в области **Вставка** на ленте.)

![](media/power-bi-visualization-best-practices/power-bi-text-boxes.png)

**Рисунок 8. Добавление текстового поля**

Введите текст в созданное пустое поле, а затем с помощью элементов управления в нижней части выберите нужное начертание и размер шрифта, выравнивание и другие параметры. Используйте маркеры, чтобы изменить размер поля.

![](media/power-bi-visualization-best-practices/power-bi-text-box-edit.png)

**Рисунок 9. Форматирование текстового поля**

Здесь важно не перестараться! Слишком много текста в отчете будет мешать и отвлекать от визуализаций. Если вы видите, что страница отчета вмещает нескончаемые пояснения, лучше все переделать.  Может быть, другая визуализация лучше представит данные? Может быть, визуализацию можно улучшить, используя ее заголовок?   

#### <a name="text"></a>Текстовые
Определитесь со стилем оформления текста и применяйте его ко всем страницам отчета. Выберите небольшое количество шрифтов, размеров и цветов для текста.  Применяйте этот стиль оформления не только к текстовым элементам, но и ко всем шрифтовым компонентам визуализаций (см. ниже раздел о заголовках и метках, которые входят в визуализации). Установите правила использования для полужирного начертания, курсива, крупных размеров шрифта, цветов и т. д.  Старайтесь не использовать слова в верхнем регистре или подчеркивание.

#### <a name="shapes"></a>Фигуры
Фигуры также могут способствовать навигации и пониманию. С их помощью можно группировать связанные сведения, выделять важные данные или управлять вниманием читателя. Фигуры указывают читателям, где начинается ваш отчет и как его трактовать. В терминах оформления этот принцип называется *контрастностью*.

![](media/power-bi-visualization-best-practices/shapes.png)

**Рисунок 10а. Фигуры в службе Power BI**

![](media/power-bi-visualization-best-practices/power-bi-desktop-shapes2new.png)

**Рисунок 10б. Фигуры в Power BI Desktop**

Как вам теперь нравится страница из нашего примера?  На рис. 11 мы видим, что страница стала чище, мусора стало меньше, а также упорядочены шрифты, размеры и цвета текста.  Заголовок страницы в верхнем левом углу сообщает, о чем эта страница.

![](media/power-bi-visualization-best-practices/power-bi-example4new.png)

**Рисунок 11. Отчет из нашего примера с заголовком и последовательным применением стиля оформления**

К странице из нашего примера мы добавили заголовок в левый верхний угол — туда, куда в первую очередь смотрит читатель. Шрифт Segoe Bold размера 28 выделяет заголовок на фоне остального текста на странице.  Наши принципы оформления текста гласят, что фоновые рисунки не используются, а заголовки, условные обозначения и метки должны быть черного цвета. Эти правила применены ко всем визуализациям на странице, где это только возможно (метки и подписи осей для комбинированной диаграммы не редактируются).  Кроме того:

* для карт **метки категорий** отключены, добавлен **заголовок** с размером шрифта 12 черного цвета с выравниванием по центру;
* добавлены заголовки визуализаций с размером 12 и выравниванием по левому краю;
* для срезов **колонтитул** отключен, добавлен **заголовок**; для параметра **Элементы** > **Текст** оставлен серый цвет и размер 10;
* для точечной диаграммы и гистограммы установлен черный цвет шрифта для заголовков и подписей по осям X и Y (если используются).

#### <a name="color"></a>Цвет
Цвет должен использоваться согласованно.  Ниже мы рассмотрим принципы использования цвета в визуальном оформлении. Пока же ограничимся напоминанием о том, что цвет следует выбирать осознанно, чтобы он не отвлекал читателей и не мешать быстрому восприятию данных.  Слишком много ярких цветов перегружает зрение. В этом разделе мы поговорим о том, что с цветом делать не следует.

#### <a name="backgrounds"></a>Фон
Выбирая оформление фона для страниц отчета, следите за тем, чтобы эти цвета не создавали нагрузку на глаза и не конфликтовали с самим отчетом и другими цветами на странице. Учтите, что некоторые цвета имеют определенное контекстуальное значение.  Например, в США красный цвет в отчетах традиционно означает что-то плохое.

![](media/power-bi-visualization-best-practices/power-bi-page-background.png)

**Рисунок 12: Выбор фона для отчета**

Вы создаете не произведение искусства, а функциональный отчет. Выберите такой цвет, который повысит читаемость и наглядность включенных в отчет данных.  

Исследование восприятия цветов и визуализаций, используемых на веб-страницах, показало, что высокий контраст между цветами ускоряет обработку информации (См. *The effect of text and background colour on visual search of Web pages** (Влияние цвета текста и фона на просмотр веб-страниц) и **Determining Users’ Perception of Web Page Visual Complexity and Aesthetic Characteristics* (Оценка восприятия визуальной сложности и эстетики веб-страниц пользователями).)

Мы применили некоторые рекомендации в отношении цвета к нашему примеру (см. рис. 20 и 21 ниже). Самое заметное изменение — использование черного цвета фона.  Желтый был слишком ярким и чрезмерно нагружал зрение.  Кроме того, на диаграмме с числом спортсменов по годам и классам желтый фон делал невидимыми желтые сегменты колонок.  Черный (или белый) фон обеспечит максимальную контрастность, позволяя сфокусироваться на визуализациях.

Ниже описаны дополнительные действия, которые мы выполнили для улучшения отчета из нашего примера.

**Заголовок страницы**

Когда мы изменили цвет фона на черный, исчез заголовок. Дело в том, что для текстовых полей допускается только черный шрифт.   Чтобы устранить эту проблему, используйте заголовок текстового поля.  Для этого выберите текстовое поле, удалите из него текст, а затем на вкладке "Визуализации" выберите и включите параметр **Заголовок**. Выберите стрелку, чтобы развернуть параметры **заголовка**, введите **Летние Олимпийские игры** в поле **Текст заголовка** и выберите белый **цвет шрифта**.

![](media/power-bi-visualization-best-practices/power-bi-text-box-title.png)

**Рисунок 13. Добавление заголовка страницы**

**Карты**

Откройте панель форматирования (значок валика) для визуализаций с картами и включите **Фон**. Выберите белый цвет с прозрачностью 0 %. Затем включите **заголовок**, выберите белый **цвет шрифта** и черный **цвет фона**.

**Срезы**

До этого момента у нас было две области срезов с разным форматированием. Это нелепо в контексте оформления. Для двух этих срезов мы изменим цвет фона на голубой.  Это удачный цвет, так как он уже входит в цветовую палитру нашей страницы: он есть на картограмме, гистограмме и карте дерева.

![](media/power-bi-visualization-best-practices/power-bi-slicer-background.png)

**Рисунок 14. Изменение цвета фона для среза**

Добавьте тонкую белую рамку.

![](media/power-bi-visualization-best-practices/power-bi-slicer-outline.png)

**Рисунок 15. Добавление рамки для среза**

Серый шрифт плохо заметен на голубом фоне, поэтому измените цвет **элементов** на белый.

![](media/power-bi-visualization-best-practices/power-bi-slicer-items.png)

**Рисунок 16. Изменение цвета шрифта для среза**

И, наконец, в разделе **Заголовок** измените **цвет шрифта** на белый и добавьте черный **цвет фона**.

![](media/power-bi-visualization-best-practices/power-bi-card-formatting.png)

**Рисунок 17. Форматирование заголовка среза**

**Прямоугольник**

Прямоугольник тоже потерялся на черном фоне.  Чтобы устранить эту проблему, выберите фигуру и на панели **Формат фигуры** включите **Фон**.

![](media/power-bi-visualization-best-practices/power-bi-shape-format.png)

**Рисунок 18. Форматирование фигуры**

**Гистограммы, пузырьковая диаграмма, картограмма и карта дерева**

Добавьте белый фон для остальных визуализаций на странице отчета. На панели форматирования разверните элемент **Строки** и установите белый **цвет линии** и значение 3 для параметра **Вес**.

![](media/power-bi-visualization-best-practices/power-bi-background.png)

**Рисунок 19. Добавление белого фона для остальных визуализаций**

![](media/power-bi-visualization-best-practices/power-bi-example5a.png)

**Рисунок 20. Пример отчета после применения рекомендаций по использованию цвета (черный фон)**

![](media/power-bi-visualization-best-practices/power-bi-example5b.png)

**Рисунок 21. Пример отчета после применения рекомендаций по использованию цвета (белый фон)**
 

### <a name="aesthetics"></a>Эстетика
Основную часть параметров, отвечающих за эстетическое восприятие, мы рассмотрели выше (использование выравнивания, выбор цвета и шрифта, исключение ненужного).  Но есть смысл обсудить еще несколько принципов проектирования отчетов, имеющих отношение к общему представлению документа.  

Не забывайте, что основное назначение отчета — решать бизнес-задачи, а не быть красивым.  Но без эстетики тоже нельзя обойтись, особенно когда нам важно произвести хорошее первое впечатление. Консультант компании Nashville Тони Бодо (Tony Bodoh) поясняет это так: "Эмоции срабатывают на полсекунды раньше, чем успевает включиться логика".  Сначала читатели реагируют на ваш отчет на эмоциональном уровне, и уже потом анализируют его. Если страница выглядит непрофессионально, хаотично и сумбурно, ваш читатель, скорее всего, даже не заметит суть представленного материала.

Блоггер TDI и промышленный аналитик TechTarget Уэйн Экерсон (Wayne Eckerson) приводит великолепную аналогию.  Проектирование отчета похоже на декорирование комнаты.  Вы уже успели приобрести диван, вазу, картину и журнальный столик.  По отдельности все они вам очень нравятся. И хотя выбор каждого из них был осмысленным, собранные вместе эти предметы конфликтуют друг с другом или перетягивают на себя внимание.

Вот чему нужно уделить внимание:

* создайте общую тему для отчета и примените ее ко всем страницам;
* используйте автономные изображения и графические элементы, которые соответствуют сведениям, а не отвлекают от них;
* применяйте все рекомендации, которые обсуждались выше в этой статье.

## <a name="principles-of-visual-design"></a>Принципы визуального оформления
Мы рассмотрели основные принципы проектирования отчета. Мы узнали, как правильно разместить элементы отчета, чтобы он был наглядным.  Теперь мы перейдем к принципам оформления самих визуализаций.  А в следующем разделе мы подробно изучим отдельные визуализации и обсудим рекомендации по использованию нескольких самых распространенных шаблонов.

В этом разделе мы ненадолго расстанемся с нашим отчетом и рассмотрим другие примеры.  Мы вернемся к этой странице отчета, когда рассмотрим принципы визуального оформления и применим полученную информацию с помощью пошаговых инструкций.  

### <a name="planning--choose-the-right-visual"></a>Планирование — выбирайте правильные визуализации
Спланировать каждую визуализацию не менее важно, чем тщательно спланировать весь отчет еще до его создания.  Ответьте на вопрос, какую историю вы хотите рассказать с помощью этой визуализации. И теперь попробуйте определить, какой шаблон визуализации лучше всего подойдет для этого. Например, процесс цикла продаж можно отобразить даже на линейчатой диаграмме, но, согласитесь, каскадная или воронкообразная диаграммы справятся с этой задачей лучше. Рекомендации по использованию некоторых распространенных шаблонов, которые помогут вам в выборе, приводятся в последнем разделе с описанием шаблонов визуализаций.  Не удивляйтесь, если выбранный изначально шаблон визуализации окажется впоследствии не лучшим вариантом.  Попробуйте несколько шаблонов, и выберите тот, который лучше всего передает основную идею.

Важно понимать различия между категориальными и количественными данными и знать, какие шаблоны визуализаций лучше подходят для разных типов данных. Количественные данные часто называются мерами. Обычно они выражаются числовыми значениями. Категориальные данные часто называются измерениями. Это данные, которые легко поддаются классификации. Подробно этот вопрос рассмотрен ниже в разделе о выборе правильной меры.

Избегайте соблазна использовать более сложные или замысловатые шаблоны визуализаций только для того, чтобы отчет выглядел внушительно. Всегда ищите наиболее простой вариант презентации данных. Горизонтальная гистограмма и простой график способны очень быстро передать информацию.  Они хорошо знакомы и привычны большинству читателей, что позволяет быстро понять суть.  Дополнительное преимущество этих шаблонов заключается в том, что большинство людей читают слева направо и сверху вниз. Аналогичным образом они оценивают и воспринимают информацию на диаграммах этих двух шаблонов.

Обязательно ли нужна прокрутка, чтобы представить данные на визуализации? Избегайте прокрутки всеми возможными средствами.  Попробуйте применить фильтры или иерархическую группировку. Если это не помогает избавиться от полосы прокрутки, выберите другой шаблон визуализации. Если без прокрутки не обойтись никак, горизонтальная прокрутка будет меньшим из двух зол по сравнению с вертикальной.

Даже если вы подберете идеальную визуализацию, для презентации данных могут понадобится дополнительные средства.  Эту помощь вам предоставят метки, заголовки, меню, цвета и размеры. Все эти элементы оформления мы обсудим далее в соответствующем разделе.

### <a name="choose-the-right-measure"></a>Выбор правильной меры
Привлекателен ли способ представления данных на вашей визуализации? Насколько важен этот способ?  Добавление визуализаций не должно являться самоцелью. Возможно, вы думали, что визуализация будет интересной, но это оказалось не так. Не бойтесь начать все с начала, чтобы найти более интересные варианты. Возможно, в этом способе тоже есть потенциал, но его нужно реализовать иначе.

Предположим, вы хотите оценить успешность менеджеров по продажам. Какие меры позволят вам это сделать?  Как вы будете выбирать лучшего — по общему объему продаж, по общей прибыли, по росту в сравнении с прошлым годом или по выполнению плана продаж? Возможно, самый большой доход продемонстрировал Семен. На линейчатой диаграмме, построенной по суммам дохода, он затмит всех остальных менеджеров по продажам.  Но у Семена очень высокая стоимость продаж (командировочные расходы, затраты на доставку и производство и т. п.), и это означает, что сумма дохода — не главный показатель.

#### <a name="reflect-realitydont-distort-reality"></a>Отображение реальности без искажений
Вы можете создать такую визуализацию, которая искажает факты. Есть даже специальный веб-сайт, на котором энтузиасты собирают примеры плохих визуализаций. В комментариях к этим примерам выражается разочарование в компаниях, создающих и распространяющих такие визуализации.  Такие компании как будто заявляют, что им нельзя доверять.

Поэтому, представляя данные, всегда следите, чтобы ваши визуализации не искажали реальность.  Вот хороший пример.

![](media/power-bi-visualization-best-practices/corp-success-distorted.png)

**Рисунок 22. Диаграмма, искажающая реальность**

Из этого примера создается впечатление, что разница между четырьмя представленными компаниями огромна, и что CorpB более успешна, чем три другие компании.  Но обратите внимание, что ось X начинается не с нуля. Реальная разница между компаниями скорее всего находится в пределах погрешности измерений.  Здесь представлены те же данные, но ось X теперь начинается с нуля.

![](media/power-bi-visualization-best-practices/corp-success.png)

**Рисунок 23. Реалистичная диаграмма**

Читатели, как правило, ожидают, что отсчет по оси X всегда начинается с нуля. Если вы решите изменить точку отсчета, следите за тем, чтобы это не исказило результаты. Подумайте, возможно, стоит добавить визуальную подсказку или текстовое поле, чтобы подчеркнуть отличия от общепринятой нормы.  

### <a name="design-elements"></a>Элементы оформления
Итак, вы выбрали меру и шаблон визуализации, затем создали эту визуализацию. Теперь постарайтесь максимально оптимизировать ее, скорректировав способ представления данных.  В этом разделе мы рассмотрим:

* макет, пространство и размер;
* текстовые элементы: метки, аннотации, меню, заголовки;
* сортировку;
* визуальное взаимодействие;
* цвет.

#### <a name="tweaking-visuals-for-best-use-of-space"></a>Настройка визуализаций для эффективного использования пространства
Если вы хотите поместить в отчет несколько диаграмм, для эффективной презентации данных нужно использовать максимально возможное "соотношение между данными и чернилами". Как мы уже упоминали выше, этот принцип придумал Эдвард Тафти. Наша цель — исключить из диаграммы как можно больше меток, но чтобы это не снизило ее информативность.

В первом наборе представленных ниже диаграмм есть избыточные метки осей (январь 2014 г., апрель 2014 г. и т. д.) и заголовки осей ("По дате"). Заголовки каждой диаграммы также требуют дополнительного пространства по горизонтали. Если мы удалим заголовки диаграмм и включим индивидуальные метки оси, мы избавимся от некоторого количества чернил и более эффективно распределим пространство. Подписи к осям для двух верхних диаграмм также можно удалить, оставив еще больше места для данных.

Если для вас важно выделить определенные периоды времени, можно нарисовать дополнительные фоновые линии или прямоугольники для всех диаграмм, чтобы упростить поиск и сравнение информации.

![](media/power-bi-visualization-best-practices/power-bi-multiples-before.png)

**Рисунок 24. Было**

![](media/power-bi-visualization-best-practices/power-bi-multiples-after.png)

**Рисунок 25. Стало**

**Включение и отключение заголовков осей**

Выберите визуализацию, чтобы сделать ее активной, и откройте панель "Форматирование". Разверните параметры для **оси Х** или **оси Y**, затем перетащите ползунок **Заголовок** в положение "Включено" или "Отключено".

![](media/power-bi-visualization-best-practices/power-bi-axis-titles.png)

**Рисунок 26. Включение и отключение заголовков осей**

**Включение и отключение меток оси**

Выберите визуализацию, чтобы сделать ее активной, и откройте панель "Форматирование". Рядом с параметрами **Ось X** и **Ось Y** отображены ползунки.  Перетащите нужный ползунок, чтобы включить или выключить метку соответствующей оси.

![](media/power-bi-visualization-best-practices/power-bi-axis-labels.png)

**Рисунок 26. Включение и отключение меток оси**

> [!TIP]
> Например, метки оси можно отключить, если у вас включены **метки данных**.
> 
> 

**Удаление заголовков визуализации**

Выберите визуализацию, чтобы сделать ее активной, и откройте панель "Форматирование". Установите ползунок для параметра **Заголовок** в положение "Отключено".

![](media/power-bi-visualization-best-practices/power-bi-title-off.png)

**Рисунок 28. Удаление заголовков из визуализаций**

Подумайте, как читатели будут просматривать отчет, и проверьте, чтобы размер и контрастность всех визуализаций и текстовых элементов позволяли их хорошо рассмотреть. Если одна из визуализаций на странице пропорционально больше других, читатель может предположить, что она самая важная. Оставляйте некоторое свободное пространство между визуализациями, чтобы отчет не выглядел перегруженным и беспорядочным.  Выровняйте визуализации, чтобы нужным образом сфокусировать внимание читателя.

**Изменение размера визуализации**

Выберите визуализацию, чтобы сделать ее активной. Щелкните и перетащите любой из маркеров, чтобы изменить размер.

![](media/power-bi-visualization-best-practices/power-bi-drag-handles.png)

**Рисунок 29. Изменение размеров визуализации**

**Перемещение визуализации**

Выберите визуализацию, чтобы сделать ее активной. Выберите и щелкните полосу захвата по центру верхней границы визуализации и перетащите ее на новое место.

![](media/power-bi-visualization-best-practices/power-bi-move.png)

**Рисунок 30. Перемещение визуализации**

#### <a name="titles-and-labels-that-are-part-of-the-visualizations"></a>Заголовки и метки, которые являются частью визуализаций
Следите за тем, чтобы заголовки и метки легко читались и отображали суть. Текст в заголовках и метках должен быть оптимального размера и контрастного цвета (например, черный вместо используемого по умолчанию серого). Помните про руководство по стилю оформления? (См. раздел про принципы оформления текста выше.) Ограничьте используемые для текста цвета и размеры. Слишком большое разнообразие сделает страницу аляповатой.  Постарайтесь использовать один цвет и один размер шрифта для заголовков всех визуализаций на странице отчета. Также выберите одинаковое выравнивание для всех заголовков на странице отчета.  

**Панель форматирования**

Чтобы выполнить любое из перечисленных ниже изменений форматирования, выберите значок валика, который открывает панель форматирования.

![](media/power-bi-visualization-best-practices/power-bi-paintbrush.png)

**Рисунок 31. Переход в панель форматирования**

После этого выберите визуальный элемент для настройки и убедитесь, что он включен. Примеры визуальных элементов: **ось X**, **ось Y**, **заголовок**, **метки данных** и **условные обозначения**. В следующем примере представлен элемент **Заголовок**.

![](media/power-bi-visualization-best-practices/power-bi-title-formatting.png)

**Рисунок 32. Форматирование заголовка визуализации**

**Установка размера текста**

Размер шрифта можно изменять для заголовков и меток данных, но нельзя изменять для осей X и Y и для условных обозначений.  Для меток данных мы отдельно рекомендуем поэкспериментировать с **единицами измерения** и количеством **десятичных знаков**, чтобы найти оптимальный уровень детализации своего отчета.   

**Установка выравнивания текста**

Заголовки можно выравнивать по левому краю, по правому краю или по центру.  Выберите один вариант и примените его ко всем визуализациям на странице.  

**Установка положения текста**

Положение текста можно настроить для некоторых осей Y и для условных обозначений.   Какой бы вариант вы ни выбрали, используйте его для всех остальных осей Y и условных обозначений на этой странице.

**Установка длины заголовка и метки**

Вы можете изменить длину названия, заголовков осей, меток данных и условных обозначений. Если вы решите отображать эти элементы, настройте длину текста (и размер шрифта) так, чтобы избежать усечения текста. Для **заголовка** и **условных обозначений** можно настроить **текст заголовка**: просто введите текст, который будет отображаться на визуализации. Для **оси X** и **оси Y** можно применить **стиль**, который можно выбрать в раскрывающемся списке. Для **меток данных** используются параметры **Отображение** и **Десятичное**. Раскрывающийся список **Отображение** позволяет выбрать единицы измерения: миллионы, тысячи, без единиц, автоматический выбор и т. д. Поле **Десятичное** сообщает Power BI, сколько десятичных разрядов нужно отображать.

**Установка цвета текста**

Цвет текста можно изменить для заголовков, осей и меток данных.  

#### <a name="titles-and-labels-that-are-not-part-of-the-visualizations"></a>Заголовки и метки, которые не являются частью визуализаций
Выше мы рассмотрели, как добавлять текстовые поля на страницы отчета. Иногда заголовки визуализаций не могут передать всю суть.  Добавляя текстовые поля, вы можете предложить читателю отчета дополнительную информацию.  
Чтобы страница отчета не выглядела слишком запутанной или аляповатой, соблюдайте единообразие в использовании шрифтов, размеров, цветов и выравнивания для текстовых полей. Чтобы изменить текст в текстовом поле, выберите нужное поле. Откроется меню форматирования.

![](media/power-bi-visualization-best-practices/power-bi-text-box-edit.png)

**Рисунок 33. Форматирование шрифта, используемого для текстового поля**

#### <a name="sorting"></a>Сортировка
Сортировка визуализаций — это очень простой способ быстро проанализировать данные. Например, сортировка линейчатых диаграмм в порядке возрастания или убывания позволяет моментально оценить добавочные данные, не используя дополнительные элементы.

Чтобы отсортировать диаграмму, щелкните многоточие (...) в правом верхнем углу диаграммы, а затем выберите элемент **Сортировка**, нужное поле и направление сортировки. Дополнительные сведения см. в разделе с описанием [изменения правил сортировки визуализации](power-bi-report-change-sort.md).

#### <a name="chart-interaction-and-interplay"></a>Взаимодействие и взаимное влияние диаграмм
Пожалуй, одной из главных возможностей Power BI можно считать то, что вы можете настраивать взаимодействие между диаграммами.  По умолчанию для диаграмм используется перекрестное выделение. Если вы выбираете точку данных, выделяются все связанные данные в других диаграммах, а несвязанные данные затемняются. Вы можете переопределить это поведение, назначив любую диаграмму на роль фильтра. Это позволяет более эффективно использовать пространство на странице. Для этого выберите в строке меню **Взаимодействия визуализаций**.

![](media/power-bi-visualization-best-practices/power-bi-visual-interactions.png)

**Рисунок 34. Взаимодействия визуализаций**

Затем для каждой визуализации определите, будет ли она выполнять фильтрацию и выделение элементов, или не будет выполнять никаких действий. Некоторые визуализации не могут выполнять выделение, и элемент управления выделением не будет для них доступен. Дополнительные сведения см. в статье [Взаимодействия с визуализациями в отчете Power BI](service-reports-visual-interactions.md).

> [!TIP]
> Для читателей, которые плохо знакомы с Power BI, возможность взаимодействовать с отчетами может оказаться неочевидной. Добавьте текстовые поля, которые подскажут, куда нужно щелкнуть, чтобы получить подробные сведения.
> 
> 

#### <a name="the-use-of-color-in-visuals"></a>Использование цвета в визуализациях
Выше мы говорили, насколько важно разработать план использования цвета в отчете. Здесь мы расскажем о принципах использованию цвета в отдельных визуализациях; эти рекомендации могут пересекаться. Здесь применяются те же основные принципы: используйте цвет, чтобы связать отчет в единое целое, привлечь внимание к деталям или помочь читателю понять визуализацию. Слишком большое разнообразие цветов отвлекает читателя и мешает ему понять, куда нужно смотреть. Не жертвуйте удобочитаемостью ради красоты. Добавляйте цвет только там, где он способствует пониманию.

> [!TIP]
> Представьте свою аудиторию и изучите общепризнанные правила использования цвета.  Например, в США зеленым цветом обычно отмечают что-то хорошее, а красным — что-то плохое.
> 
> 

Этот раздел включает несколько тем:

1. цвет данных;
2. цвет меток данных;
3. цвет для категориальных значений;
4. цвет для числовых значений.

**Использование цвета для выделения интересных данных**

Самый простой способ использования цвета —изменить цвет одной или нескольких точек данных, чтобы привлечь к ним внимание. В этом примере изменяется цвет при переходе от 4-летнего Олимпийского цикла к 2-летнему циклу с чередованием летних и зимних Игр.

![](media/power-bi-visualization-best-practices/power-bi-data-color.png)

**Рисунок 35. Используйте цвет, чтобы представить данные**

Цвет точек данных можно изменить, используя вкладку **Цвета данных** на панели форматирования. Чтобы отдельно настроить каждую точку, обязательно включите параметр **Показать все**.

![](media/power-bi-visualization-best-practices/power-bi-colors.png)

**Рисунок 36. Настройка цветов для точек данных**

> [!NOTE]
> Power BI применяет ко всем элементам отчета тему по умолчанию.  Цвета этой темы подобраны так, чтобы обеспечить хороший контраст и разнообразие. Чтобы отойти от палитры по умолчанию, выберите **Настраиваемый цвет**.
> 
> 

![](media/power-bi-visualization-best-practices/power-bi-custom-color.png)

**Рисунок 37. Выбор пользовательского цвета**

В Power BI Desktop можно даже выделять колебания значений или часть строки с помощью второго ряда.

![](media/power-bi-visualization-best-practices/power-bi-outliers.png)

**Рисунок 38. Выделение колебаний значений в Desktop**

В этом примере в ряд колебаний попадают только те точки, в которых средняя температура августа опускалась ниже 15 градусов. Для этого мы создали вычисляемый столбец DAX с помощью следующей формулы:

Outliers = if(Editions[Temp]<15, Editions[Temp], BLANK())

Мы видим три колебания значений: в 1952, 1956 и 2000 гг.

**Цвета для меток и заголовков**

Изучая доступные параметры форматирования, вы будете находить новые возможности добавить цвет в заголовки или условные обозначения. Например, вы можете изменить цвет для заголовков осей и меток данных. Используйте эти возможности осторожно.  Обычно лучше всего использовать один цвет для всех заголовков визуализаций.  Как и для всех остальных рекомендаций, приведенных в этом документе, могут существовать ситуации и причины, требующие нарушить это правило. Но вам обязательно нужна веская причина, чтобы его нарушать.

**Цвет для категориальных значений**

Обычно диаграммы с рядами данных используют в условных обозначениях категориальные значения. Например, в следующем примере каждый цвет обозначает определенную страну или регион.

![](media/power-bi-visualization-best-practices/power-bi-bubble-color.png)

**Рисунок 39. Применение цветов по умолчанию**

Цвета, которые Power BI использует по умолчанию, позволяют хорошо различать цвета для разных категориальных значений. Иногда эти цвета заменяются другими в соответствии с корпоративным стилем или по другим причинам. Это может привести к проблемам.

![](media/power-bi-visualization-best-practices/power-bi-bubble-color2.png)

**Рисунок 40. Применение цветов, представляющих оттенки одного цвета**

Если использовать один оттенок цвета и изменять только его насыщенность, у зрителя создается ложное ощущение упорядоченности категорий. Такая цветовая схема намекает, что более темные фигуры на какой-то шкале измерений находятся выше или ниже, чем фигуры светлых оттенков. Но обычно категориальные значения не имеют никакого определенного упорядочения, кроме алфавитного порядка имен.
Чтобы изменить цвета по умолчанию, откройте панель форматирования и выберите **Цвета данных**.

**Цвет для числовых значений**

Для полей, которые действительно имеют определенный порядок и числовые значения, можно изменять цвет точек данных в зависимости от этих значений. Это пригодится, когда нужно будет продемонстрировать распределение значений, а также отобразить на одной диаграмме две переменные. Диаграмма в этом примере показывает, что Китай завоевал больше медалей, но зато Япония и Таиланд чаще участвовали в Олимпийских играх.

![](media/power-bi-visualization-best-practices/power-bi-saturation.png)

**Рисунок 41. Зависимость цвета точек данных от значения**

Чтобы создать такую диаграмму, добавьте значение в поле "Насыщенность цвета" и скорректируйте цвета на панели "Форматирование".

![](media/power-bi-visualization-best-practices/power-bi-saturation2.png)

**Рисунок 42. Добавление поля насыщенности цвета**

![](media/power-bi-visualization-best-practices/power-bi-color-controls.png)

**Рисунок 43. Корректировка цветов, используемых для насыщенности**

Также цвета могут подчеркнуть дисперсию относительно базового значения. Например, можно выделять зеленым цветом положительные значения, а красным —отрицательные. Когда выбираете цвета для положительных и отрицательных значений, обязательно учитывайте культурные различия. Не во всех регионах красный воспринимается как плохой цвет, а зеленый — как хороший!

![](media/power-bi-visualization-best-practices/power-bi-color.png)

**Рисунок 44. Цвет подчеркивает дисперсию относительно базового значения**
 

### <a name="principles-of-visual-design--applied-to-example-report-page"></a>Принципы визуального оформления в применении к странице отчета из примера
Теперь давайте применим все принципы визуального оформления, которые мы обсуждали выше, к нашему образцу отчета.

Было

![](media/power-bi-visualization-best-practices/power-bi-example5a.png)

**Рисунок 45. Наш пример отчета (до изменений)**

Стало

![](media/power-bi-visualization-best-practices/power-bi-example6anew.png)

**Рисунок 46. Наш пример отчета (после изменений)**

#### <a name="what-did-we-do"></a>Что мы сделали?
1. Срез: удалили пустые значения из вариантов для среза, добавив фильтр на уровне страницы по значениям "Золото", "Серебро" и "Бронза". В разделе **Элементы управления выбором** отключили параметры **Единичное выделение** и **Выделить все**.
2. На пузырьковой карте в условных обозначениях было так много элементов, что они выходили за пределы отведенного места и предполагали использование полосы прокрутки.  Мы удалили условные обозначения и взамен включили **Метки категорий**. Теперь пользователи могут наводить курсор на каждый пузырек, чтобы просмотреть сведения о нем. Сократили заголовок и убрали текст "по странам и регионам", так как это очевидно. Включили метки для обеих осей, чтобы диаграмма стала более понятной.
3. Для картограммы изменили **Цвета данных**, чтобы сделать ее более заметной. Включили **Расхождение** и установили розовый цвет для **минимума** и красный для **максимума**.
4. Для карты дерева удалили фильтр, который фильтровал данные только по США. Установили для **меток данных** ограничение до одного десятичного знака. В визуализации использовалось поле "Класс", которое отображало мало полезной информации. Распределение медалей почти всегда было равномерным (по 33 % на золото, серебро и бронзу).  Мы заменили его более интересным полем "Пол". Для улучшения оформления мы изменили цвета: синий для водных видов спорта и серый для атлетики.
5. Для верхней линейчатой диаграммы сократили заголовок, убрали метки данных, отключили заголовок условных обозначений. Изменили порядок слов в заголовка, чтобы он соответствовал самой диаграмме.
6. Для нижней линейчатой диаграммы отсортировали данные по году, так же, как на верхней диаграмме. Изменили цвета, чтобы они соответствовали классам. Изменили заголовок. Отключили условные обозначения, чтобы освободить место для данных. Включили метки данных, которые не отображаются в отчете (так как здесь размер визуализации слишком мал), но зато будут видны в режиме фокусировки. [Дополнительные сведения о режиме фокусировки](service-focus-mode.md). Добавили в **подсказку** поле "Число соревнований (отдельные)". Теперь при наведении курсора на столбец можно увидеть, сколько видов соревнований проводилось в этот год.
7. Отключили взаимодействие визуализаций для обеих карт, чтобы они всегда показывали общее число Игр и видов спорта.

## <a name="visual-types-and-best-practices"></a>Шаблоны визуализаций и рекомендации для них
Power BI предлагает множество встроенных шаблонов визуализаций.  Их можно дополнить пользовательскими визуализациями, которые предлагают корпорация Майкрософт и сообщество Power BI. Количество доступных вариантов слишком велико, чтобы все их здесь описать. Но мы рассмотрим несколько самых распространенных встроенных шаблонов визуализаций.  

### <a name="line-charts"></a>Графики
![](media/power-bi-visualization-best-practices/power-bi-line-chartb.png)

Графики — это мощное средство для просмотра временных рядов данных.  Считывание данных в табличном виде не сравнится по скорости с восприятием пиковых значений и плато, а также закономерностей и повторов в графическом представлении.  
В приведенном ниже примере демонстрируются тенденции по количеству вручаемых медалей и количеству медалистов.  

![](media/power-bi-visualization-best-practices/power-bi-line-chart.png)

**Рисунок 47. Графики**

#### <a name="best-practices"></a>Советы и рекомендации
* Когда человек смотрит на график, он прежде всего замечает форму кривой.  Это означает, что нужно выбрать такой параметр для оси X, который сделает эту кривую осмысленной, например время или категорию распределения.  Если вы поместите на ось X категориальные поля, например товары или регионы, график будет неинтересным, так как форма кривой не отобразит значимые сведения.
* Если вы решите разместить друг под другом несколько графиков, как показано здесь, выровняйте их по оси X, чтобы упростить сравнение данных. Используйте фильтры, чтобы отображать значения в одном диапазоне.  Например, если вы просматриваете данные по диапазонам дат, используйте одинаковые диапазоны.  Здесь это годы с 1896 по 2012 на обоих графиках.
* Полностью используйте пространство.  Если позволяют ваши данные, задайте начальную и конечную точки для оси Y так, чтобы исключить пустое пространство в верхней и нижней части графика. Это позволит лучше продемонстрировать точки фактических данных. Для этого откройте панель форматирования, щелкнув значок валика. Разверните зону **оси Y** и укажите значения для точек **Начало** и **Конец**.
  
  ![](media/power-bi-visualization-best-practices/power-bi-start-end.png)
  
  **Рисунок 48. Установка начальной и конечной точек**
* Также будет полезно явным образом задать начальную и конечную точки, если вы сравниваете на одной странице два или несколько графиков с одним и тем же параметром для оси Y.  Например, если вы отображаете число соревнований, в которых участвовали представители страны, то для Великобритании эти данные лежат в диапазоне от 1 до 70, а для Австралии — от 1 до 12. Такие графики будет иметь очень разные оси Y (см. рисунок 49). Так очень сложно быстро сравнить данные. Вместо этого установите для этих графиков один и тот же диапазон для оси Y (см. рисунок 50).
  
  ![](media/power-bi-visualization-best-practices/power-bi-line-chart2.png)
  
  **Рисунок 49. Графики с разными диапазонами для оси Y**
  
  ![](media/power-bi-visualization-best-practices/power-bi-line-chart3.png)
  
  **Рисунок 50. Графики с одинаковыми диапазонами для оси Y**

Для получения дополнительной информации см.

* [Customize the X and Y axes](power-bi-visualization-customize-x-axis-and-y-axis.md) (Настройка осей X и Y)
* [Line charts and irregular intervals](http://www.perceptualedge.com/articles/visual_business_intelligence/line_graphs_and_irregular_intervals.pdf) (Графики с нерегулярными интервалами времени)
* [Line charts 101](http://www.columnfivemedia.com/data-visualization-101-line-charts) (Графики 101)

### <a name="barcolumn-charts"></a>Гистограммы и линейчатые диаграммы
![](media/power-bi-visualization-best-practices/power-bi-bar-chart.png)

Аналогично тому, как графики являются стандартным решением для временных рядов данных, линейчатые диаграммы идеально подходят для рассмотрения определенного значения по разным категориям.  Если отсортировать столбцы по значению параметра, будут сразу хорошо видны максимальные значения и распределение значений.  Горизонтальные линейчатые диаграммы хорошо подходят для очень длинных меток.  

![](media/power-bi-visualization-best-practices/power-bi-horizontal-scroll.png)

**Рисунок 51. Горизонтальная линейчатая диаграмма**

#### <a name="best-practices"></a>Советы и рекомендации
* Отображайте метки данных для значений.  Это позволяет легко определять конкретные значения. Для этого откройте панель форматирования и включите параметр **Метки данных**.
  
  ![](media/power-bi-visualization-best-practices/power-bi-data-labels.png)
  
  **Рисунок 52. Включение меток данных**
* Представленная выше линейчатая диаграмма отлично подходит для сравнения одной меры со многими значениями **на конкретный момент времени**.  Ранее на графике мы наблюдали тенденцию изменения значений во времени, а линейчатая диаграмма демонстрирует распределение значений для одной категории на определенный момент времени.  Здесь с первого взгляда видно, что в Испании один из высочайших в мире уровней безработицы (25 %).
* Если гистограмма или линейчатая диаграмма не помещается целиком в отведенное место, Power BI добавляет полосы прокрутки. Везде, где это возможно и практически оправдано, старайтесь оформлять визуализацию и отчет так, чтобы диаграмма помещалась полностью. Тогда читатель сможет быстро оценить все особенности распределения.  К сожалению, в нашем примере это невозможно — стран в мире очень много.
  
  Мы можем уменьшить количество отображаемых значений с помощью фильтра. Например, добавьте на уровне визуализации фильтр, который выделит только те страны, где уровень безработицы имеет значение выше 20 %.
* Гистограмма и линейчатая диаграммы позволяют переходить на более глубокий уровень детализации (и возвращаться обратно).  Это отличный способ вместить большой объем сведений в одну визуализацию, не занимая дополнительное пространство.  В приведенном ниже примере используются два уровня иерархии: регионы и страны.  Двойной щелчок по полосе региона переносит нас к списку стран, входящих в состав этого региона.  Дополнительные сведения о детализации см. в разделе [Детализация в визуализации](power-bi-visualization-drill-down.md).
  
  ![](media/power-bi-visualization-best-practices/power-bi-drill.png)
  
  **Рисунок 53. Детализация**

Дополнительные сведения о линейчатых диаграммах и гистограммах.

* [Bar charts 101](http://blog.newscred.com/article/data-visualization-101-bar-charts/3c53044d4add7c31e79a3f80128771f4?page=thankyou) (Линейчатые диаграммы 101)
* [Data Visualization Catalogue: Bar Chart](http://www.datavizcatalogue.com/methods/bar_chart.html#.VYV-hY3bLJw) (Каталог визуализаций: линейчатая диаграмма)
* [Data Visualization Catalogue: Multi-set Bar Chart](http://www.datavizcatalogue.com/methods/multiset_barchart.html#.VYV_gI3bLJw) (Каталог визуализаций: линейчатая диаграмма с несколькими наборами данных)

### <a name="stacked-barcolumn-charts"></a>Гистограммы и линейчатые диаграммы с накоплением
![](media/power-bi-visualization-best-practices/power-bi-stacked.png)

Вы можете добавить в гистограмму или линейчатую диаграмму дополнительное измерение, разместив в каждом столбце или строке несколько категорий.  Теперь диаграмма не только передает сведения об одной общей тенденции (по высоте и длине элементов), но и демонстрирует влияние отдельных категорий на эту тенденцию. На приведенной ниже диаграмме показано, как общий объем доходов лучших футбольных команд мира вырос до 6 миллиардов к 2014 году.

![](media/power-bi-visualization-best-practices/power-bi-deloite.png)

**Рисунок 54. Гистограмма с накоплением**

Эта гистограмма с накоплением показывает нам, что общий доход постоянно растет, и это определяется стабильным ростом по категориям "Коммерция" и "Вещание".  Но на этой диаграмме не очень удобно оценить влияние каждой из трех категорий друг на друга. Например, какая из категорий демонстрирует более высокий рост в дни проведения матчей — "Коммерция" или "Вещание"?  Для отображения таких данных оптимальным решением будет график, заменяющий или дополняющий эту визуализацию.  

![](media/power-bi-visualization-best-practices/power-bi-deloite2.png)

**Рисунок 55: Преобразование в график**

На этом графике хорошо видно, что в дни проведения матчей больше всего растет доход по категории "Коммерция", а следом за ней идет категория "Вещание".

#### <a name="best-practices"></a>Советы и рекомендации
* Как и в случае с линиями и столбцами, вы можете выбирать горизонтальное или вертикальное отображение.   Горизонтальный формат лучше подходит при наличии длинных меток, а вертикальный — если вы имеете дело с данными временных рядов.  
* Не используйте гистограммы и линейчатые диаграммы с накоплением, если ваша задача — продемонстрировать тенденции и закономерности в изменении значений с течением времени.  С этим гораздо лучше справятся другие диаграммы, например графики.
* Вы также можете отображать параметры в долях от общего объема или в процентах.  
* Как отмечает Стивен Фью, *сегменты линейчатого столбца с накоплением трудно сравнивать. Если бы все сегменты располагались рядом друг с другом и начинались от одного уровня, сравнить их высоту было бы легко. Но при размещении одного над другим эта задача усложняется. Кроме того, здесь достаточно легко отследить изменения (дохода) от месяца к месяцу, но довольно трудно понять, как (доход) изменяется по другим (категориям)*.  
* Нормированные диаграммы можно считать хорошим выбором, если вы демонстрируете значения в процентах, которые в сумме составляют 100 %.  В приведенном ниже примере мы видим соотношения между категориями для разных команд.  Процентные показатели являются относительными и позволяют нам быстро заметить закономерности. Например, у клуба Everton доход связан в первую очередь с категорией "Вещание" (более 70 %), тогда как для PSG эта категория дает лишь 20 % от общего дохода.  Выбор горизонтального формата позволяет легко разместить метки с названиями команд и хорошо продемонстрировать соотношение между типами доходов.
  
  ![](media/power-bi-visualization-best-practices/power-bi-deloite3.png)
  
  **Рисунок 56. Горизонтальная диаграмма с накоплением**

Дополнительные сведения о диаграммах с накоплением.

* [Data Visualization Catalogue: Stacked bar graphs](http://www.datavizcatalogue.com/methods/stacked_bar_graph.html#top) (Каталог визуализации данных: гистограмма с накоплением)
* [When are 100% stacked bar graphs useful?](http://www.perceptualedge.com/blog/?p=2239) (В каких случаях полезны нормированные гистограммы?)

### <a name="combo-barcolumn-charts"></a>Комбинированные гистограммы и линейчатые диаграммы
![](media/power-bi-visualization-best-practices/power-bi-combo.png)

В Power BI вы можете объединять гистограммы и графики в одну комбинированную диаграмму. Доступные варианты комбинирования: "График и гистограмма с накоплением" или "График и гистограмма с группировкой". Вы сможете сэкономить ценное пространство на холсте, объединяя две визуализации в одну.

Ниже на двух снимках экрана представлены варианты до и после такого объединения.  Первая страница содержит две отдельные визуализации: гистограмму зависимости населения от времени и график зависимости объема ВВП от времени. Эти диаграммы являются отличными кандидатами на объединение в комбинированную диаграмму, поскольку по оси X у них один и тот же параметр (год) и одинаковые значения (с 2002 по 2012 гг.).  Нам ничто не мешает представить эти две тенденции на одной визуализации.  Объединение двух диаграмм позволяет быстрее сравнивать данные.

Новая страница отчета содержит только одну визуализацию "График и гистограмма с накоплением". Ничуть не хуже здесь подойдет и другой вариант — "График и гистограмма с накоплением".  Теперь стало проще искать связи между двумя тенденциями.   Отчетливо видно, что до 2008 года численность населения и ВВП изменялись схожим образом. Но начиная с 2009 года рост численности населения замедлился, а изменения ВВП стали более непредсказуемыми.  

![](media/power-bi-visualization-best-practices/power-bi-spain-line.png)

 **Рисунок 57. Две отдельные диаграммы**

![](media/power-bi-visualization-best-practices/power-bi-spain-combo.png)

 **Рисунок 58. Одна комбинированная диаграмма**

#### <a name="best-practices"></a>Советы и рекомендации
Комбинированные диаграммы лучше всего работают в тех случаях, когда у двух визуализаций есть хотя бы одна общая ось.

Следите за осями! Удобно ли читать и легко ли понимать вашу комбинированную диаграмму?  Или на ней используются разные диапазоны и значения? Например, если шкала оси Y для гистограммы будет существенно мельче, чем шкала оси Y для графика, комбинированная диаграмма не сможет донести смысл.  Например, обратите внимание на третью (голубую) линию графика, размещенную в самом низу.

   ![](media/power-bi-visualization-best-practices/power-bi-dual-line.png)

   **Рисунок 59. Неудачный график**

Также комбинированная диаграмма будет бесполезной, если для гистограммы и для графика используются две разные меры, но вы не создадите для них вторую ось.  Например, один параметр будет в долларах, а другой в процентах. Обязательно разместите в визуализации обе оси, чтобы читатель мог понять представленные данные. Возможно, следует даже добавить метки осей.

Для этого откройте панель форматирования, разверните узел **оси Y** и включите параметр **Показать вторичные** (если он еще не включен). Иногда этот параметр нелегко найти. Разверните **Ось Y (гистограмма)** и прокрутите вниз, пока не увидите пункт **Показать вторичные**. Кроме того, включите параметр **Заголовок** для объекта "Ось Y (гистограмма)", а также **Заголовок** для объекта "Ось Y (график)".

![](media/power-bi-visualization-best-practices/power-bi-show-secondary-new.png)

**Рисунок 60. Отображение вторичной оси**

![](media/power-bi-visualization-best-practices/power-bi-combo-chart.png)

**Рисунок 61. Создание комбинированной диаграммы**

* Используйте возможности двух осей. Они позволяют сравнивать несколько мер с разными диапазонами значений. Также они отлично демонстрируют корреляцию между двумя мерами в одной визуализации.

Подробнее:

* [Руководство. Комбинированная диаграмма в Power BI](power-bi-visualization-combo-chart.md)
* [The danger of dual-scaled Axes in visuals](http://www.perceptualedge.com/articles/visual_business_intelligence/dual-scaled_axes.pdf) (Риски использования в визуализациях осей с двойными диапазонами)

### <a name="scatter-chart"></a>Точечная диаграмма
![](media/power-bi-visualization-best-practices/power-bi-scatter.png)

Иногда у нас есть много переменных, которые нужно продемонстрировать одновременно. Точечная диаграмма отлично помогает увидеть общую картину.  Точечные диаграммы отображают соотношения между двумя (точечные) или тремя (пузырьковые) количественными мерами.  Точечная диаграмма всегда включает две оси значений: вдоль горизонтальной оси отображается один набор числовых данных, а вдоль вертикальной — другой. На диаграмме отображаются точки пересечения числовых значений X и Y, объединяя их в отдельные точки данных. Точки данных могут распределяться вдоль горизонтальной оси равномерно или неравномерно в зависимости от данных.

В пузырьковой диаграмме точки данных заменяются пузырьками, размер которых определяется еще одним измерением данных.

Представленная ниже пузырьковая диаграмма демонстрирует для всех стран Южной Америки три показателя: ВВП на душу населения (ось Y), совокупный ВВП (ось X) и численность населения.  Численность населения в стране отображается размером соответствующего пузырька. Бразилия имеет наибольшую численность населения (размер пузырька) и наибольшую долю ВВП в Южной Америке (самая дальняя позиция по оси X).  Но при этом мы видим, что Уругвай, Чили и Аргентина имеют более высокий ВВП на душу населения (они расположены выше по оси Y).

![](media/power-bi-visualization-best-practices/power-bi-bubble.png)

**Рисунок 62. ВВП и население стран Южной Америки на пузырьковой диаграмме**

Если добавить ось воспроизведения, можно будет описать развитие истории во времени, как это делает Ханс Рослинг (Hans Rosling): https://www.youtube.com/watch?v=PbaDBJWCeD4. Чтобы добавить ось воспроизведения, перетащите поле даты и времени в зону **Ось воспроизведения**.

#### <a name="best-practices"></a>Советы и рекомендации
* Точечная и пузырьковая диаграммы хорошо умеют рассказывать истории. Но они не слишком полезны для исследования данных.  Именно это Стивен Фью пытается объяснить. *Сила этого подхода проявляется в повествовании. Когда рассказ Рослинга о данных на диаграмме сопровождается перемещением пузырьков и изменением их размеров в соответствии с заданным сюжетом, информация оживает. Но анимированные пузырьковые диаграммы гораздо хуже подходят для изучения и понимания данных. Я сомневаюсь, что Рослинг применяет этот метод для поиска своих сюжетов. С его помощью он только рассказывает то, что уже знает. Мы не можем уследить одновременно за несколькими перемещающимися пузырьками, и если нам нужно как следует разобраться в происходящем, приходится запускать анимацию снова и снова. Можно было бы добавить след к некоторым пузырькам, чтобы отслеживать их полную траекторию. Но если таких пузырьков будет много, диаграмма слишком быстро станет перегруженной. Главная мысль, которую я хочу донести, — этот формат не очень подходит для изучения и анализа такой информации.*
* Добавьте метки осей X и Y, которые помогут рассказать историю.  Это особенно важно для пузырьковых диаграмм, которые включают очень много компонентов. Метки помогут читателям разобраться в визуализации.
* Добавьте метки данных, чтобы облегчить понимание визуализации.  Это особенно важно для пузырьковых диаграмм с большим количеством элементов. Если собрать их все в условные обозначения, не всегда легко различить схожие цвета.  В приведенной выше визуализации цвета для Суринама, Колумбии и Эквадора очень похожи.
* Что делать, если созданная точечная диаграмма демонстрирует только одну точку данных, в которой суммируются все значения по осям X и Y? Или если диаграмма суммирует все значения вдоль горизонтальных или вертикальных линий?  Чтобы исправить такие ситуации, добавьте поле в область **Сведения**, чтобы сообщить Power BI, каким образом нужно группировать значения. Поле должно быть уникальным для каждой точки, которую нужно отобразить. Дополнительную информацию вам предоставит статья [Руководство. Точечные и пузырьковые диаграммы в Power BI](power-bi-visualization-scatter.md).

### <a name="tree-map-charts"></a>Диаграммы карты дерева
![](media/power-bi-visualization-best-practices/power-bi-treemap.png)

Карта дерева может быть очень полезной для оценки относительного размера нескольких компонентов единого целого, особенно если их можно сгруппировать по категориям.  Каждый раз, когда я пытаюсь разобраться в новой организации, отображение с помощью карты дерева основных компонентов отлично помогает понять общую ситуацию.

На первой из представленных ниже диаграмм вы сразу видите, что на долю Бразилии приходится около половины общего ВВП Южной Америки, а доли Венесуэлы и Аргентины примерно равны.

Если вам нужно одновременно обрисовать общую ситуацию и дать представление о влиянии крупнейших стран, можно создавать иерархические визуализации, разместив отдельные члены (страны) внутри иерархических категорий (регионов). Вторая карта дерева в первую очередь дает представление об относительных размерах регионов. В пределах же каждого региона мы видим, какие страны вносят наибольший вклад. Хорошо заметно, что есть три крупных региона (Европа, Азия и Северная Америка), в которых легко найти крупнейшие страны.

Основное ограничение карты дерева заключается в том, что все прямоугольники, кроме самых крупных, очень сложно сравнивать.  Это хорошая диаграмма для обзора общей ситуации, но гистограмма или линейчатая диаграмма, скорее всего, дадут более точное представление об относительных размерах компонентов.
  Например, первая карта дерева дает представление о соотношении размеров ВВП, но здесь трудно выделить различия между отдельными странами, особенно малого размера в прямоугольниках без надписей. Для таких данных, где сравнивается одно группирование, гистограмма или линейчатая диаграмма могут оказаться более правильным выбором.

![](media/power-bi-visualization-best-practices/power-bi-treemap3.png)

**Рисунок 63. Сравнение ВВП стран Южной Америки на плоском дереве**

Здесь мы добавили еще один уровень данных — регион. Теперь мы можем увидеть не только вклад отдельных регионов в совокупный ВВП, но и относительное влияние стран в каждом регионе. Обратите внимание, что при таком представлении несуммативных мер (например, средних значений) сумма значений по отдельным элементам может не соответствовать фактическому значению на уровне группирования.

![](media/power-bi-visualization-best-practices/power-bi-treemap2.png)

**Рисунок 64. ВВП по регионам и странам на карте дерева**

Дополнительные сведения о картах дерева можно получить, перейдя по следующим ссылкам.

* [Treemaps overview](http://www.perceptualedge.com/articles/b-eye/treemaps.pdf) (Общие сведения о карте дерева)
* [Data Visualization Catalogue: Tree maps](http://www.datavizcatalogue.com/methods/treemap.html#.VYhylI3bL7Y) (Каталог визуализаций данных: карта дерева)

### <a name="other-charts"></a>Другие диаграммы
#### <a name="pie-or-donut-charts"></a>Круговые и кольцевые диаграммы
![](media/power-bi-visualization-best-practices/power-bi-donut.png)

Графики, гистограммы и линейчатые диаграммы позволяют решить почти любую задачу. Хорошо известно, что человеку трудно правильно воспринимать информацию на круговой и кольцевой диаграммах. Также эти шаблоны часто искажают данные. Избегайте их по возможности. Стивен Фью отлично описал историю и риски использования этого шаблона в статье [Save the Pies for Dessert] ([www.percetualedge.com/articles/08-21-07.pdf](http://www.perceptualedge.com/articles/08-21-07.pdf) (Оставьте пироги на десерт).

Он приводит ровно один сценарий, в котором круговые диаграммы могут быть полезны. Это задача сравнения соотношений между частями и целым. Но даже в этом случае их эффективность редко будет значимо выше, чем у нормированной линейчатой диаграммы.

Еще одна забавная статья (с анимацией) о круговых диаграммах есть на сайте [Darkhorse Analytics](http://www.darkhorseanalytics.com/blog/salvaging-the-pie).

Противоположная точка зрения представлена в статье [Why Tufte is flat-out wrong about pie charts](http://speakingppt.com/2013/03/18/why-tufte-is-flat-out-wrong-about-pie-charts/) (Почему Тафти полностью неправ в отношении круговых диаграмм)

#### <a name="radial-gauges--kpis"></a>Радиальные датчики и ключевые показатели эффективности
![](media/power-bi-visualization-best-practices/power-bi-gauge.png)

Радиальные датчики могут казаться удобным способом наглядной демонстрации фактических достижений в сравнении с планом. Они сейчас очень часто используются на панелях мониторинга для руководителей. Но у них есть два важных недостатка. Как и в случае с круговой диаграммой, человеку сложно оценить угол наклона и долю выделенной области в сравнении с полной дугой или положением целевой отметки. Также они используют много места для отображения всего одной меры.

Более предпочтительным вариантом является простая визуализация ключевого показателя эффективности.

![](media/power-bi-visualization-best-practices/power-bi-kpi.png)

Ключевые показатели эффективности, занимая ту же площадь, демонстрируют одновременно значение, состояние, цель, отклонение от цели и тенденцию развития. Зеленый цвет станет красным, если цель не достигнута, или, например, желтым, если выполнены некоторые промежуточные цели. Такой вариант гораздо проще воспринимать, чем вариант с датчиком.

Для получения дополнительной информации см.

* [Руководство. Диаграммы "Радиальный датчик" в Power BI](power-bi-visualization-radial-gauge-charts.md)
* [КПЭ в Power BI](power-bi-visualization-kpi.md)

## <a name="conclusion"></a>Заключение
Теперь настало время применить все эти рекомендации на практике.  И не забывайте сообщать нам о своих идеях и предложениях. Может быть, вы не согласны с нашими рекомендациями или нашли вескую причину их нарушить?  Об этом мы тоже хотели бы услышать.  

### <a name="book-recommendations"></a>Рекомендации по литературе
Сейчас доступно много хороших книг, которые помогают освоить методики визуального проектирования. Обязательна к прочтению книга Стивена Фью *Information Dashboard Design* (Проектирование панели мониторинга данных). Еще подробнее он рассматривает эти вопросы в двух других книгах: *Show Me the Numbers* (Покажите числа) и *Now you see it* (Теперь вы это видите). Фью и многие другие черпали вдохновение в работах Эдварда Тафти. Его книга *The Visual Display of Quantitative Information* (Визуальное представление количественных данных) уже считается классикой в этой области. Также он написал книги *Visual Explanations* (Визуальные объяснения), *Envisioning Information* (Представление информации) и *Beautiful Evidence* (Красивое доказательство). Также мы рекомендуем новую книгу Энди Кирка (Andy Kirk) *Data Visualization: A Handbook for Data Driven Design* (Визуализация данных: руководство по проектированию на основе данных). Вот еще несколько авторов, на которых стоит обратить внимание: Лахлан Джеймс (Lachlan James), Уильям Макнайт (William McKnight) и аналитик Forrester Борис Эвелсон (Boris Evelson); а также ресурс Darkhorse Analytics.

Появились дополнительные вопросы? [Ответы на них см. в сообществе Power BI.](http://community.powerbi.com/)

