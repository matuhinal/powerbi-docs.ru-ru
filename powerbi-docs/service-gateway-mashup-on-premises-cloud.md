---
title: Объединение и добавление локальных и облачных источников данных
description: Используйте локальный шлюз данных для объединения или добавления локальных и облачных источников данных в одном запросе.
author: arthiriyer
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-gateways
ms.topic: conceptual
ms.date: 07/15/2019
ms.author: arthii
LocalizationGroup: Gateways
ms.openlocfilehash: 10aec8659fcb643c5b0511360ba798c7b4873c77
ms.sourcegitcommit: 7aa0136f93f88516f97ddd8031ccac5d07863b92
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/05/2020
ms.locfileid: "74697895"
---
# <a name="merge-or-append-on-premises-and-cloud-data-sources"></a>Объединение и добавление локальных и облачных источников данных

[!INCLUDE [gateway-rewrite](includes/gateway-rewrite.md)]

Вы можете использовать локальный шлюз данных для объединения или добавления локальных и облачных источников данных в одном запросе. Это полезно, если нужно комбинировать данные из нескольких источников, не используя отдельные запросы.

>[!NOTE]
>Эта статья относится только к наборам данных, для которых в одном запросе объединяются или добавляются облачные и локальные источники данных. Для наборов данных с отдельными запросами (один для подключения к локальному источнику данных, а другой — к облачному) шлюза не выполняет запрос для облачного источника данных.

## <a name="prerequisites"></a>Технические условия

- [Шлюз, установленный](/data-integration/gateway/service-gateway-install) на локальном компьютере.
- Файл Power BI Desktop с запросами, в которых сочетаются локальные и облачные источники данных.

>[!NOTE]
>Чтобы обратиться к любым облачным источникам данных, нужно убедиться, что шлюз имеет доступ к ним.

1. В службе Power BI в правом верхнем углу экрана щелкните значок шестеренки ![Значок параметров](media/service-gateway-mashup-on-premises-cloud/icon-gear.png) > **Управление шлюзами**.

    ![Управление шлюзами](media/service-gateway-mashup-on-premises-cloud/manage-gateways.png)

2. Выберите шлюз, который нужно настроить.

3. В разделе **Параметры кластера шлюза** выберите **Разрешите облачные источники данных пользователя, чтобы обновлять их через этот кластер шлюза** > **Применить**.

    ![Обновление через этот кластер шлюза](media/service-gateway-mashup-on-premises-cloud/refresh-gateway-cluster.png)

4. В кластере шлюза добавьте [локальные источники данных](service-gateway-enterprise-manage-scheduled-refresh.md#add-a-data-source), используемые в запросах. Добавлять здесь облачные источники данных не требуется.

5. Отправьте в службу Power BI файл Power BI Desktop с запросами, в которых сочетаются локальные и облачные источники данных.

6. На странице **Настройки набора данных** для нового набора данных выполните указанные ниже действия.

   - Для локального источника выберите шлюз, связанный с этим источником данных.
   - В разделе **Учетные данные источника данных** при необходимости измените учетные данные облачного источника данных.

    Убедитесь, что уровни конфиденциальности для облачных и локальных источников данных установлены должным образом, чтобы обеспечить безопасную обработку соединений.

     ![Параметры набора данных](media/service-gateway-mashup-on-premises-cloud/dataset-settings.png)

7. Задав учетные данные облачного источника, можно обновить набор данных с помощью команды **Обновить**. Кроме того, можно запланировать периодическое обновление.

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения об обновлении данных для шлюзов см. в разделе [Использование источника данных для запланированного обновления](service-gateway-enterprise-manage-scheduled-refresh.md#use-the-data-source-for-scheduled-refresh).
