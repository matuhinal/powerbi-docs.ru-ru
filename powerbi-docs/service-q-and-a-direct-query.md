---
title: Использование вопросов и ответов для активных подключений в Power BI
description: Документация по использованию функции вопросов и ответов Power BI в виде запросов на естественном языке для активных подключений к данным Analysis Services и локальному шлюзу данных.
author: maggiesMSFT
ms.reviewer: mihart
ms.service: powerbi
ms.subservice: powerbi-service
ms.topic: conceptual
ms.date: 10/16/2018
ms.author: maggies
LocalizationGroup: Ask questions of your data
ms.openlocfilehash: cf1d67318fc86b1044e38e6f4f5f56c9473c39a1
ms.sourcegitcommit: 7aa0136f93f88516f97ddd8031ccac5d07863b92
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/05/2020
ms.locfileid: "74265500"
---
# <a name="enable-qa-for-live-connections-in-power-bi"></a>Включение вопросов и ответов для активных подключений в Power BI
## <a name="what-is-the-on-premises-data-gateway--what-is-a-live-connection"></a>Что такое локальный шлюз данных?  Что такое активное подключение?
Наборы данных в Power BI можно импортировать в Power BI или создавать активное подключение к этим данным. Наборы данных активного подключения часто называют "локальными". Для управления активными подключениями используется [шлюз](service-gateway-onprem.md), а обмен данными и запросами осуществляется с помощью активных запросов.

## <a name="qa-for-on-premises-data-gateway-datasets"></a>Вопросы и ответы для наборов данных локальных шлюзов
Для того чтобы использовать вопросы и ответы с наборами данных, доступ к которым осуществляется через шлюз, их необходимо предварительно активировать.

После этого Power BI создаст индекс источников данных и передаст подмножество данных в Power BI, чтобы включить возможность использования вопросов. Создание первоначального индекса может занять несколько минут. При изменении данных Power BI дополняет и обновляет индекс автоматически. Применение вопросов и ответов к таким наборам данных работает также, как публикация данных в Power BI. В обоих случаях поддерживается весь набор функций, доступных при работе с вопросами и ответами.

Когда вы задаете вопросы в Power BI, функция вопросов и ответов определяет наиболее подходящий визуальный элемент для формирования отчета, который позволит ответить на ваш вопрос, исходя из индекса вашего набора данных. Определив наилучший потенциальный ответ, с помощью DirectQuery функция вопросов и ответов извлекает динамические данные для заполнения диаграмм и графиков из источника данных через шлюз. В результате функция вопросов и ответов в Power BI всегда отображает актуальные данные, полученные непосредственно из соответствующего источника данных.

Так как функция вопросов и ответов в Power BI выбирает форму запроса ответов из исходной модели, используя текстовые значения и значения схем из вашего источника данных, поиск определенных новых или удаленных текстовых значений (например, запрос имени клиента, связанного с вновь добавленной текстовой записью) осуществляется на основе актуального индекса последних значений. Power BI автоматически обновляет индекс текстовых значений и схем с 60-минутным окном изменений.

Для получения дополнительной информации см.

* Что такое [локальный шлюз данных](service-gateway-onprem.md)?
* [Вопросы и ответы по Power BI для потребителей](consumer/end-user-q-and-a.md)

## <a name="enable-qa"></a>Включить вопросы и ответы
Настроив шлюз данных, подключитесь к данным из Power BI.  Создайте панель мониторинга на основе локальных данных или отправьте PBIX-файл, использующий локальные данные.  Кроме того, локальные данные можно использовать в панелях мониторинга, отчетах и наборах данных, к которым вам предоставили доступ.

1. В правом верхнем углу экрана Power BI щелкните значок шестеренки ![значок шестеренки](media/service-q-and-a-direct-query/power-bi-cog.png) и выберите пункт **Settings** (Параметры).
   
   ![Меню параметров](media/service-q-and-a-direct-query/powerbi-settings.png)
2. Выберите **наборы данных** и укажите, какой набор данных необходимо включить для функции вопросов и ответов.
   
   ![Экран наборов данных в меню "Параметры"](media/service-q-and-a-direct-query/power-bi-q-and-a-settings.png)
3. Разверните пункт **Вопросы и ответы**, установите флажок **Включить вопросы и ответы для этого набора данных** и выберите **Применить**.
   
    ![Развернутая область вопросов и ответов](media/service-q-and-a-direct-query/power-bi-qna-dataset-direct-query.png)

## <a name="what-data-is-cached-and-how-is-privacy-protected"></a>Какие данные кэшируются и каким образом осуществляется защита конфиденциальности?
При включении функции вопросов и ответов для локальных данных подмножество ваших данных кэшируется в службе. Такое кэширование обеспечивает адекватную скорость работы функции вопросов и ответов. Служба Power BI исключает значения, длина которых превышает 24 символа. Кэш удаляется в течение нескольких часов после отключения функции вопросов и ответов, когда вы снимаете флажок **Разрешить доступ к разделу "Вопросы и ответы" для этого набора данных** или удаляете свой набор данных.

## <a name="considerations-and-troubleshooting"></a>Рекомендации и устранение неполадок
Эта функция имеет некоторые ограничения.

* Изначально эта функция доступна только для табличных источников данных SQL Server 2016 Analysis Services. Функция оптимизирована для работы с табличными данными. Интерфейс вопросов пока не поддерживается для многомерных данных. Поддержка дополнительных источников данных локальным шлюзом данных будет реализована со временем.
* Полная поддержка безопасности на уровне строк, определенная в SQL Server Analysis Services, изначально недоступна. При формулировке вопросов с помощью компонента вопросов и ответов функция автозаполнения вопросов во время ввода может предлагать строковые значения, недоступные пользователю. При этом в визуальных элементах отчетов и схем соблюдается безопасность на уровне строк, поэтому числовые данные на экран не выводятся. Соответствующие параметры управления будут реализованы в следующих обновлениях.
* Безопасность на уровне объектов (OLS) не поддерживается. Компонент "Вопросы и ответы" не учитывает безопасность на уровне объектов и может отображать имена таблиц или столбцов для пользователей, у которых нет к ним доступа. Необходимо включить безопасность на уровне строк (RLS), чтобы гарантировать, что значения данных также надежно защищены. 
* Активные подключения поддерживаются только для локального шлюза данных. Поэтому эту функцию невозможно использовать для персонального шлюза.

## <a name="next-steps"></a>Дальнейшие действия

- [Локальный шлюз данных](service-gateway-onprem.md)  
- [Управление своим источником данных — службы Analysis Services](service-gateway-enterprise-manage-ssas.md)  
- [Основные понятия для разработчиков в службе Power BI](service-basic-concepts.md)  
- [Общие сведения о функции "Вопросы и ответы" в Power BI](consumer/end-user-q-and-a.md)  

У вас имеются и другие вопросы? [Попробуйте задать вопрос в сообществе Power BI.](https://community.powerbi.com/)

