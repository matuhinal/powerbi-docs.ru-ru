---
title: Настройка параметров потоков данных рабочей области
description: Настройка рабочей области в Power BI для хранения файлов определения и файлов данных потока данных в Azure Data Lake Storage 2-го поколения
author: davidiseminger
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-service
ms.topic: how-to
ms.date: 01/29/2020
ms.author: davidi
LocalizationGroup: Data from files
ms.openlocfilehash: ad3684bbf285ff85fa3dec6b0cdc807dc05eca05
ms.sourcegitcommit: 9350f994b7f18b0a52a2e9f8f8f8e472c342ea42
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/22/2020
ms.locfileid: "90857917"
---
# <a name="configure-workspace-dataflow-settings-preview"></a>Настройка параметров потоков данных рабочей области (предварительная версия)

С помощью Power BI и потоков данных вы можете хранить файлы данных и файл определения потока данных рабочей области в учетной записи Azure Data Lake Storage 2-го поколения. Администраторы рабочих областей могут настроить Power BI для этого. Процедура настройки подробно описана в этой статье. 

Перед настройкой места хранения потока данных рабочей области глобальному администратору вашей организации необходимо подключить учетную запись хранения организации к Power BI, а также включить для нее разрешения для назначения хранилища. *[Подключение Azure Data Lake Storage 2-го поколения для хранения потока данных (предварительная версия)](service-dataflows-connect-azure-data-lake-storage-gen2.md)* 

Настроить параметры хранения потока данных рабочей области можно двумя способами: 

* во время создания рабочей области;
* изменив имеющуюся рабочую область.

Мы рассмотрим каждый вариант в следующих разделах. 

> [!IMPORTANT]
> Параметр хранения потока данных рабочей области может быть изменен, только если рабочая область не содержит потоков данных. Кроме того, эта функция доступна только в новом интерфейсе рабочей области. Дополнительные сведения о новой рабочей области см. в статье [Создание рабочих областей (предварительная версия) в Power BI](../collaborate-share/service-create-the-new-workspaces.md).

## <a name="create-a-new-workspace-configure-its-dataflow-storage"></a>Создание рабочей области и настройка хранения потока данных

Чтобы создать рабочую область в службе Power BI, выберите **Рабочие области > Создать рабочую область**.

![Добавление новой рабочей области](media/service-dataflows-configure-workspace-storage-settings/dataflow-storage-settings_01.jpg)

В диалоговом окне "Создание рабочей области" может появиться желтый прямоугольник **Предварительный просмотр улучшенных рабочих областей**. В этой области выберите **Попробовать**.

![Предварительная версия улучшенных рабочих областей](media/service-dataflows-configure-workspace-storage-settings/dataflow-storage-settings_02.jpg)

В открывшемся диалоговом окне новой рабочей области можно присвоить уникальное имя. Пока не выбирайте **Сохранить**, так как необходимо внести дополнительные параметры.

![Укажите имя новой рабочей области](media/service-dataflows-configure-workspace-storage-settings/dataflow-storage-settings_03.jpg)

Теперь разверните область **Дополнительно** в диалоговом окне **Создание рабочей области**. Здесь можно включить параметр **Хранилище потоков данных (предварительная версия)** .

![Дополнительные параметры для новой рабочей области](media/service-dataflows-configure-workspace-storage-settings/dataflow-storage-settings_04.jpg)

Чтобы создать рабочую область, выберите **Сохранить**. В любом новом потоке данных, созданном в этой рабочей области, теперь хранится файл его определения (файл Model.json) и данные в учетной записи Azure Data Lake Storage 2-го поколения вашей организации. 

## <a name="update-dataflow-storage-for-an-existing-workspace"></a>Обновление хранилища потока данных для имеющейся рабочей области

Вместо создания рабочей области можно обновить имеющуюся, чтобы хранить файл определения и данные в учетной записи Azure Data Lake Storage 2-го поколения вашей организации. Помните, что параметр хранения потока данных можно изменить, только если рабочая область еще не содержит поток данных.

Чтобы изменить рабочую область, щелкните многоточие **(...)** и выберите команду **Изменить рабочую область**. 

![Изменение рабочей области](media/service-dataflows-configure-workspace-storage-settings/dataflow-storage-settings_05.jpg)

В открывшемся окне **Изменение рабочей области** разверните область **Дополнительно**, а затем установите для параметра **Хранилище потоков данных (предварительная версия)** значение **Вкл**. 

![Включение хранилища потоков данных](media/service-dataflows-configure-workspace-storage-settings/dataflow-storage-settings_06.jpg)

Затем выберите **Сохранить**. Теперь в любом потоке данных, созданном в этой рабочей области, хранятся файл определения и данные в учетной записи Azure Data Lake Storage 2-го поколения вашей организации.


## <a name="get-the-uri-of-stored-dataflow-files"></a>Получение URI хранимых файлов потока данных

После создания потока данных в рабочей области, назначенной учетной записи Azure Data Lake вашей организации, можно получить доступ к файлам данных и определения напрямую. Их расположение доступно на странице **Параметры потока данных**. Чтобы перейти на эту страницу, сделайте следующее.

Выберите многоточие **(...)** рядом с потоком данных, указанном в разделе **Потоки данных** в рабочей области. В открывшемся меню выберите пункт **Параметры**.

![Получение URI файлов потока данных](media/service-dataflows-configure-workspace-storage-settings/dataflow-storage-settings_07.jpg)

В отображаемой информации расположение папки CDM потока данных указано в разделе **Dataflow Storage location** (Место хранения потока данных), как показано на следующем рисунке.

![Расположение файлов потока данных](media/service-dataflows-configure-workspace-storage-settings/dataflow-storage-settings_08.jpg)

> [!NOTE]
> Power BI настраивает владельца потока данных с разрешениями для чтения для папки CDM, где хранятся файлы данных. Для предоставления доступа к месту хранения потока данных другим пользователям или службам необходимо, чтобы владелец учетной записи хранения предоставил доступ в Azure.



## <a name="considerations-and-limitations"></a>Рекомендации и ограничения

Определенные функции потока данных не поддерживаются, когда хранилище потока данных находится в Azure Data Lake Storage 2-го поколения: 

Рабочие области Power BI Pro, Premium и Embedded:
* Функция **связанных сущностей** поддерживается только в рабочих областях из одной учетной записи хранения.
* Разрешения рабочей области не применяются к потокам данных, которые хранятся в Azure Data Lake Storage 2-го поколения; только владелец потока данных может получить к ним доступ.
* В противном случае все функции подготовки данных совпадают с функциями для потоков данных, хранимых в хранилище Power BI.


В списке ниже также описаны некоторые дополнительные рекомендации.

* Место хранения потока данных нельзя изменить после настройки.
* Только владелец потока данных, хранящегося в Azure Data Lake Storage 2-го поколения, может получить доступ к его данным.
* Локальные источники данных в общей емкости Power BI не поддерживаются в потоках данных, хранящихся в Azure Data Lake Storage 2-го поколения вашей организации.

Клиенты **Power BI Desktop** не могут получить доступ к потокам данных, хранящимся в учетной записи Azure Data Lake Storage 2-го поколения вашей организации, если только они не являются владельцами потока данных. Рассмотрим следующую ситуацию:

1.  Анна создает рабочую область и настраивает хранение в ней потоков данных из озера данных организации.
2.  Бен, который также является членом рабочей области, которую создала Анна, хочет с помощью Power BI Desktop и соединителя потока данных получить данные из потока данных, созданного Анной.
3.  У Бена возникает ошибка, потому что его не добавили как авторизованного пользователя в папку CDM потока данных в Data Lake.

    ![При попытке использовать поток данных возникла ошибка](media/service-dataflows-configure-workspace-storage-settings/dataflow-storage-settings_08.jpg)


## <a name="next-steps"></a>Дальнейшие действия

В этой статье предоставляются инструкции по настройке хранилища рабочей области для потоков данных. Дополнительные сведения вы найдете в перечисленных ниже статьях.

Дополнительные сведения о потоках данных, CDM и Azure Data Lake Storage 2-го поколения см. в следующих статьях:

* [Потоки данных и интеграция Azure Data Lake (предварительная версия)](service-dataflows-azure-data-lake-integration.md)
* [Добавление папки CDM в Power BI в виде потока данных (предварительная версия)](service-dataflows-add-cdm-folder.md)
* [Подключение Azure Data Lake Storage 2-го поколения для хранения потока данных (предварительная версия)](service-dataflows-connect-azure-data-lake-storage-gen2.md)

Общие сведения о потоках данных см. в этих статьях:

* [Creating and using dataflows in Power BI (Preview)](service-dataflows-create-use.md) (Создание и использование потоков данных в Power BI (предварительная версия))
* [Использование вычисляемых сущностей в Power BI Premium (предварительная версия)](service-dataflows-computed-entities-premium.md)
* [Использование потоков данных с локальными источниками данных (предварительная версия)](service-dataflows-on-premises-gateways.md)
* [Ресурсы для разработчиков потоков данных Power BI (предварительная версия)](service-dataflows-developer-resources.md)

Дополнительные сведения о службе хранилища Azure см. в следующих статьях:

* [Руководство по безопасности службы хранилища Azure](/azure/storage/common/storage-security-guide)
* [CDM folders and Azure Data Services integration](https://aka.ms/cdmadstutorial) (Интеграция папок CDM и служб данных Azure)

Дополнительные сведения о модели общих данных вы найдете в этой обзорной статье:

* [Что такое модель общих данных?](/powerapps/common-data-model/overview)
* [Папки CDM](/common-data-model/data-lake)
* [The metadata file (model.json) for the Common Data Model](/common-data-model/model-json) (Файл метаданных (model.json) для модели общих данных)

Вы всегда можете [задать вопросы в Сообществе Power BI](https://community.powerbi.com/).