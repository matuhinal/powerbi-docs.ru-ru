---
title: Использование DirectQuery с потоками данных в Power BI (предварительная версия)
description: Сведения об использовании DirectQuery с потоками данных в Power BI
author: davidiseminger
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-service
ms.topic: conceptual
ms.date: 05/21/2020
ms.author: davidi
LocalizationGroup: Data from files
ms.openlocfilehash: 469b8b13f77c56f9371ae8c1c81dcb94278c62e0
ms.sourcegitcommit: 5e5a7e15cdd55f71b0806016ff91256a398704c1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/22/2020
ms.locfileid: "83793986"
---
# <a name="use-directquery-with-dataflows-in-power-bi-preview"></a>Использование DirectQuery с потоками данных в Power BI (предварительная версия)

DirectQuery можно использовать для прямого подключения к потокам данных и, следовательно, для подключения непосредственно к потоку данных без необходимости импортировать данные. 

Использование DirectQuery с потоками данных обеспечивает следующие улучшения процессов Power BI и потоков данных.

* **Отсутствие необходимости в отдельных расписаниях обновления** — DirectQuery напрямую подключается к потоку данных, избавляя от необходимости создавать импортируемый набор данных. Таким образом, использование DirectQuery с потоками данных означает, что вам больше не требуются отдельные расписания обновления для потоков данных и наборов данных, чтобы обеспечить синхронизацию данных.

* **Фильтрация данных** — DirectQuery полезен для работы с отфильтрованным представлением данных внутри потока данных. Если требуется отфильтровать данные для работы с меньшим поднабором данных в потоке, можно использовать DirectQuery (и ядро вычислений) для фильтрации данных потока данных и работы с требуемым поднабором.


## <a name="using-directquery-for-dataflows"></a>Использование DirectQuery для потоков данных

Использование DirectQuery с потоками данных — это предварительная версия функции в Power BI Desktop, которая доступна, начиная с майской версии 2020 г. 

Существуют также предварительные требования для использования DirectQuery с потоками данных.

* Поток данных должен находиться в рабочей области, для которой включена Power BI Premium
* Должно быть включено **ядро вычислений**. Дополнительные сведения о ядре вычислений см. в разделе, посвященном [расширенному ядру вычислений](service-dataflows-enhanced-compute-engine.md).

## <a name="enable-directquery-for-dataflows"></a>Включение DirectQuery для потоков данных

Чтобы убедиться, что поток данных доступен для DirectQuery, расширенное ядро вычислений должно находиться в оптимизированном состоянии. Чтобы включить DirectQuery для потоков данных, задайте для нового параметра **Параметры расширенного ядра вычислений** значение **Включено**. На следующем рисунке показан правильно выбранный параметр.

![Включение расширенного ядра вычислений для потоков данных](media/service-dataflows-directquery/dataflows-directquery-01.png)

После применения этого параметра обновите поток данных, чтобы оптимизация вступила в силу. 


## <a name="considerations-and-limitations"></a>Рекомендации и ограничения

Существует несколько известных ограничений для DirectQuery и потоков данных, которые описаны в следующем списке.

* DirectQuery для потоков данных не работает с включенной **предварительной версией функции расширенных метаданных**. Это исключение должно быть удалено в предстоящем ежемесячном выпуске Power BI Desktop.

* Пока данная функция доступна в предварительной версии, некоторые клиенты могут столкнуться с задержками или снижением производительности при использовании DirectQuery с потоками данных. Такие проблемы активно устраняются в течение этого периода предварительной версии.

* Составные и смешанные модели с источниками данных импорта и DirectQuery в настоящее время не поддерживаются.

* Большие потоки данных могут создавать проблемы с истечением времени ожидания при просмотре визуализаций. Это ограничение должно быть устранено, когда функция станет общедоступной. Пока же для больших потоков данных, вызывающих истечение времени ожидания, следует использовать режим импорта.

* При использовании DirectQuery в параметрах источника данных для соединителя потока данных будут отображаться недопустимые учетные данные. Это не мешает набору данных работать правильно. Данная проблема будет устранена ближе к выпуску общедоступной версии.



## <a name="next-steps"></a>Дальнейшие действия

Следующие статьи помогут получить дополнительные сведения и изучить сценарии применения потоков данных:

* [Self-service data prep in Power BI (Preview)](service-dataflows-overview.md) (Самостоятельная подготовка данных в Power BI (предварительная версия))
* [Использование вычисляемых сущностей в Power BI Premium](service-dataflows-computed-entities-premium.md)
* [Использование потоков данных с локальными источниками данных](service-dataflows-on-premises-gateways.md)
* [Ресурсы для разработчиков потоков данных Power BI](service-dataflows-developer-resources.md)
* [Потоки данных и интеграция Azure Data Lake (предварительная версия)](service-dataflows-azure-data-lake-integration.md)

Дополнительные сведения о модели общих данных вы найдете в этой обзорной статье:
* [Что такое модель общих данных?](https://docs.microsoft.com/powerapps/common-data-model/overview)
* [Дополнительные сведения о схеме модели общих данных и сущностях на сайте GitHub](https://github.com/Microsoft/CDM)

Связанные статьи о Power BI Desktop:

* [Подключение к наборам данных в службе Power BI из приложения Power BI Desktop](../connect-data/desktop-report-lifecycle-datasets.md)
* [Общие сведения о запросах в Power BI Desktop](desktop-query-overview.md)

Связанные статьи о службе Power BI:
* [Настройка запланированного обновления](../connect-data/refresh-scheduled-refresh.md)
