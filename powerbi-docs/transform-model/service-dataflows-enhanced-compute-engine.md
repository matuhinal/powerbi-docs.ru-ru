---
title: Использование расширенного ядра вычислений для потоков данных
description: Узнайте, как использовать расширенное ядро вычислений в Power BI Premium с потоками данных
author: davidiseminger
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-service
ms.topic: how-to
ms.date: 06/01/2020
ms.author: davidi
LocalizationGroup: Data from files
ms.openlocfilehash: f003a62fb8e2b3495dee8dac7b553a2ff72bd6b1
ms.sourcegitcommit: eef4eee24695570ae3186b4d8d99660df16bf54c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/23/2020
ms.locfileid: "85240004"
---
# <a name="the-enhanced-compute-engine"></a>Расширенное ядро вычислений

Расширенное ядро вычислений в Power BI позволяет подписчикам Power BI Premium использовать имеющуюся емкость для оптимизации использования потоков данных. Расширенное ядро вычислений обеспечивает следующие преимущества.

* Значительно сокращает время обновления, необходимое для длительных действий ETL по сравнению с вычисленными сущностями, например выполнение *соединений*, *определения различий*, *применения фильтров,* и *группирования*
* Выполнение запросов DirectQuery по сущностям (февраль 2020 г.)

В следующих разделах описываются включение расширенного ядра вычислений и ответы на часто задаваемые вопросы.


## <a name="using-the-enhanced-compute-engine"></a>Использование расширенного ядра вычислений

Расширенное ядро вычислений включается на странице **Параметры емкости** в службе Power BI в разделе **Потоки данных**. По умолчанию расширенное ядро вычислений **отключено**. Чтобы включить его, нажмите переключатель **Вкл.** , как показано на следующем рисунке, и сохраните настройки. 

![Включение расширенного ядра вычислений](media/service-dataflows-enhanced-compute-engine/enhanced-compute-engine-01.png)

> [!IMPORTANT]
> Модуль расширенных вычислений работает только с емкостями Power BI уровня A3 и выше.

После включения расширенного ядра вычислений вернитесь к потокам данных, и вы увидите повышение производительности в любой вычисленной сущности, которая выполняет сложные операции, такие как операции *соединения* или *группирования* потоков данных, созданных из существующих связанных объектов в той же емкости. 

Чтобы обеспечить оптимальное использование ядра вычислений, необходимо разделить этап ETL на два отдельных потока данных следующим образом.

* **Поток данных 1** — этот поток должен принимать только все необходимые данные из источника и помещать их в Поток данных 2.
* **Поток данных 2** — выполнение всех операций ETL в этом втором потоке данных, однако следует убедиться в том, что вы ссылаетесь на Поток данных 1, который должен находиться в той же емкости. Кроме того, перед выполнением каких-либо других операций необходимо выполнить операции, которые вычисляются сначала (применение фильтра, группировка, определение различий, соединение), чтобы обеспечить использование ядра вычислений.

## <a name="common-questions-and-answers"></a>Общие вопросы и ответы

**Вопрос.** После включения расширенного ядра вычислений обновления стали выполняться медленнее. Почему?

**Ответ.** Существует два возможных объяснения снижения времени обновления после включения расширенного ядра вычислений.

 - Если расширенное ядро вычислений включено, для его правильной работы требуется некоторый объем памяти. Таким образом, объем памяти, доступной для выполнения обновления, уменьшается и, следовательно, повышается вероятность того, что обновления помещаются в очередь, что, в свою очередь, сокращает число потоков данных, которые могут обновляться одновременно. Чтобы устранить это, при включении расширенного ядра вычислений увеличьте объем памяти, выделенной для потоков данных, чтобы объем памяти, доступной для параллельного обновления потоков данных, оставался неизменным.

 - Другая причина, по которой можно столкнуться с медленным обновлением, кроется в том, что ядро вычислений работает только на основе существующих сущностей. Поэтому если поток данных ссылается на источник, который не является потоком данных, улучшений не стоит ожидать. Повышения производительности не будет, поскольку в некоторых сценариях обработки больших данных начальное считывание из источника данных будет выполняться медленнее, так как данные должны передаваться в расширенное ядро вычислений.  

**Вопрос.** Не отображается переключатель расширенного ядра вычислений. Почему?

**Ответ.** Выпуск расширенного ядра вычислений выполняется поэтапно для регионов по всему миру. Мы ожидаем, что поддержка будет реализована во всех регионах к концу 2020 г.

**Вопрос.** Какие типы данных поддерживаются ядром вычислений?

**Ответ.** В настоящее время расширенное ядро вычислений и потоки данных поддерживают следующие типы данных. Если поток данных не использует один из следующих типов, во время обновления возникает ошибка:

* Дата и время
* Десятичное число
* Текст
* Целое число
* Дата, время, часовой пояс
* Истина/ложь
* Дата
* Время

## <a name="next-steps"></a>Дальнейшие действия

В этой статье приводятся сведения об использовании расширенного ядра вычислений для потоков данных. Следующие статьи также содержат полезные сведения.

* [Self-service data prep in Power BI (Preview)](service-dataflows-overview.md) (Самостоятельная подготовка данных в Power BI (предварительная версия))
* [Creating and using dataflows in Power BI (Preview)](service-dataflows-create-use.md) (Создание и использование потоков данных в Power BI (предварительная версия))
* [Использование вычисляемых сущностей в Power BI Premium](service-dataflows-computed-entities-premium.md)
* [Ресурсы для разработчиков потоков данных Power BI](service-dataflows-developer-resources.md)

Дополнительные сведения о Power Query и обновлении по расписанию содержатся в следующих статьях:
* [Общие сведения о запросах в Power BI Desktop](desktop-query-overview.md)
* [Настройка запланированного обновления](../connect-data/refresh-scheduled-refresh.md)

Дополнительные сведения о модели общих данных вы найдете в этой обзорной статье:
* [Что такое модель общих данных?](https://docs.microsoft.com/powerapps/common-data-model/overview)
