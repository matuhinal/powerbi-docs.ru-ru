---
title: Срезы в Power BI
description: Срез Power BI — это альтернативный вариант фильтрации, который сужает часть набора данных, отображаемую в других визуализациях в проектируемом отчете.
author: maggiesMSFT
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-desktop
ms.topic: how-to
ms.date: 07/07/2020
ms.author: maggies
LocalizationGroup: Visualizations
ms.openlocfilehash: 1f68ed28a57f5dd52d447d48ea231e468dd5d02a
ms.sourcegitcommit: 6bc66f9c0fac132e004d096cfdcc191a04549683
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2020
ms.locfileid: "91747742"
---
# <a name="slicers-in-power-bi"></a>Срезы в Power BI

[!INCLUDE [applies-to](../includes/applies-to.md)] [!INCLUDE [yes-desktop](../includes/yes-desktop.md)] [!INCLUDE [yes-service](../includes/yes-service.md)]

Предположим, вам нужно, чтобы ваши читатели отчетов могли просматривать общие метрики продаж и производительности по отдельному региональному менеджеру и в разные временные рамки. Вы можете создать отдельные отчеты или сравнительные диаграммы. На панели "Фильтры" можно добавлять фильтры. А можно воспользоваться *срезами*. Срез является еще одной разновидностью фильтра. Срез ограничивает часть набора данных, отображаемую в других визуализациях отчета. 

![Анимация среза в действии.](media/power-bi-visualization-slicers/slicer2.gif)

В этой статье рассматривается создание и форматирование базового среза с помощью бесплатного [примера анализа розничной торговли](../create-reports/sample-retail-analysis.md). Здесь также объясняется, как управлять тем, какие визуальные элементы зависят от среза, выполнять синхронизацию со срезами на других страницах, а также как фильтровать и форматировать срезы.

В этих статьях объясняется, как создавать определенные типы срезов:

- [Срезы числового диапазона](../create-reports/desktop-slicer-numeric-range.md).
- [Срезы относительных дат](desktop-slicer-filter-date-range.md).
- [Срез относительного времени.](../create-reports/slicer-filter-relative-time.md)
- [Срезы с изменяемыми размерами](../create-reports/power-bi-slicer-filter-responsive.md) и быстрым откликом.
- [Иерархические срезы](../create-reports/power-bi-slicer-hierarchy-multiple-fields.md) с несколькими полями.

## <a name="when-to-use-a-slicer"></a>Способы применения среза
Срезы отлично подходят для следующих задач:

* отображение часто применяемых и важных фильтров на холсте отчета для упрощения доступа к ним;
* упрощение определения текущего состояния фильтрации без необходимости открывать раскрывающийся список; 
* Фильтрация по столбцам, которые не нужны и скрыты в таблицах данных.
* Создание более специализированных отчетов путем размещения срезов рядом с важными визуальными элементами.

Среды Power BI не поддерживают следующее.

- Поля ввода
- Детализация

## <a name="create-a-slicer"></a>Создание среза

Этот срез фильтрует данные по региональному менеджеру. Если вы хотите следовать этой процедуре, скачайте [PBIX-файл с примером анализа розничной торговли](https://download.microsoft.com/download/9/6/D/96DDC2FF-2568-491D-AAFA-AFDD6F763AE3/Retail%20Analysis%20Sample%20PBIX.pbix).

1. Откройте Power BI Desktop и в строке меню выберите **Файл**  >  **Открыть**.
   
1. Перейдите к файлу **Retail Analysis sample PBIX.pbix** и нажмите кнопку **Открыть**.

1. На панели слева щелкните значок **отчета** ![Снимок экрана: значок отчета.](media/power-bi-visualization-kpi/power-bi-report-view.png), чтобы открыть файл в представлении отчетов.

1. На странице **обзора** с холстом отчета, на котором ничего не выбрано, щелкните значок **среза** ![Снимок экрана: значок среза.](media/power-bi-visualization-slicers/slicer-icon.png) в области **Визуализации**, чтобы создать срез. 

1. Выбрав новый срез, выберите на панели **Поля** элемент **District** > **DM** ("Регион" > "Региональный менеджер"), чтобы заполнить срез. 

    Теперь новый срез заполнен списком имен региональных менеджеров и их полей выбора.
    
    ![Снимок экрана: срез, заполненный именами региональных менеджеров.](media/power-bi-visualization-slicers/power-bi-new-slicer.png)
    
1. Измените размер и перетащите элементы и другие элементы на холсте, чтобы освободить место для среза. Обратите внимание, если размер среза слишком мал, элементы среза обрезаются. 

1. Выберите имена в срезе. Этот выбор повлияет на другие визуализации на странице. Снова выделите имена, чтобы отменить выбор, или удерживайте клавишу **CTRL** для выбора нескольких имен. Выбор всех имен имеет тоже эффект, что и отсутствие выбора. 

1. Можно также выбрать **Формат** (значок валика) в области **Визуализации**, чтобы отформатировать срез. 

   Существует слишком много способов, чтобы описать их здесь; вам стоит поэкспериментировать и создать срез, который подходит лично вам. На следующем изображении первый срез использует горизонтальную ориентацию и цветные фоны для элементов. Второй срез использует вертикальную ориентацию и цветной текст для придания более стандартного вида.

   ![Снимок экрана: отформатированный срез.](media/power-bi-visualization-slicers/power-bi-filter-examples.png)

   >[!TIP]
   >По умолчанию элементы списка срезов располагаются в порядке по возрастанию. Чтобы отсортировать элементы среза по убыванию, щелкните многоточие ( **...** ) в правом верхнем углу среза и в раскрывающемся списке выберите **Сортировать по убыванию**.

## <a name="control-which-page-visuals-are-affected-by-slicers"></a>Управление тем, какие визуальные элементы страницы затрагивают срезы
По умолчанию срезы на страницах отчета влияют на остальные визуализации на этой странице, в том числе и друг на друга. Выбор значений в созданных срезах списка и даты повлияет на другие визуализации. Отфильтрованные данные представляют собой пересечение значений, выбранных в обоих срезах. 

Используйте взаимодействия визуальных элементов, чтобы устранить влияние на некоторые визуализации страниц. На странице **обзора** в диаграмме **Total Sales Variance by FiscalMonth and District Manager** (Разница в общем объеме продаж по отчетным месяцам и региональным менеджерам) содержатся общие сравнительные данные о продажах региональных менеджеров за месяц, которые вы хотите просматривать в любое время. Используйте взаимодействия визуальных элементов, чтобы отменить фильтрацию этой диаграммы по параметрам среза. 

1. Перейдите на страницу **обзора** отчета, а затем выберите созданный ранее срез **DM** (Региональный менеджер).

1. В меню Power BI Desktop выберите **Формат** в области **Визуальные средства** и нажмите кнопку **Изменить взаимодействия**.
   
   Над всеми визуальными элементами на странице отображаются элементы управления фильтром ![Снимок экрана: элементы управления фильтром](media/power-bi-visualization-slicers/filter-controls.png). У каждого из них есть параметры **Фильтр** и **Нет**. Изначально параметр **Фильтр** выбран для всех элементов управления.
   
1. Выберите параметр **Нет** в элементе управления фильтра над диаграммой **Total Sales Variance by FiscalMonth and District Manager** (Разница в общем объеме продаж по отчетным месяцам и региональным менеджерам), чтобы отменить фильтрацию по срезу **DM** (Региональный менеджер). 

1. Выберите срез **OpenDate** и параметр **Нет** над диаграммой **Total Sales Variance by FiscalMonth and District Manager** (Разница в общем объеме продаж по отчетным месяцам и региональным менеджерам), чтобы отменить фильтрацию по этому срезу. 

   После выбора диапазонов имен и дат в срезах диаграмма **Total Sales Variance by FiscalMonth and District Manager** (Разница в общем объеме продаж по отчетным месяцам и региональным менеджерам) не изменяется.

Дополнительные сведения об изменении взаимодействий см. в разделе [Изменение способа взаимодействия визуальных элементов в отчете Power BI](../create-reports/service-reports-visual-interactions.md).

## <a name="sync-and-use-slicers-on-other-pages"></a>Синхронизация и использование срезов на других страницах
Вы можете синхронизировать срез и использовать его на любой или на всех страницах отчета. 

В текущем отчете на странице **District Monthly Sales** (Продажи в регионе по месяцам) есть срез **District Manager** (Региональный менеджер), но что делать, если вы также хотели сделать срез на странице **New Stores** (Новые магазины)? Страница **New Stores** (Новые магазины) содержит срез, но он предоставляет только сведения из поля **Store Name** (Название магазина). Используя область **Синхронизация срезов**, вы можете синхронизировать срез **District Manager** (Региональный менеджер) с этими страницами, чтобы изменения параметров среза на любой странице влияли на визуализации на всех трех страницах.

1. В меню **Вид** Power BI Desktop выберите **Синхронизировать срезы**.

    ![Снимок экрана: выбор элемента "Синхронизировать срезы".](media/power-bi-visualization-slicers/power-bi-slicer-view-sync.png)

    Между областями **Фильтры** и **Визуализации** появится область **Синхронизация срезов**.

    ![Снимок экрана: панель "Синхронизация срезов".](media/power-bi-visualization-slicers/power-bi-slicer-sync-pane.png)

1. На странице **District Monthly Sales** (Продажи в регионе по месяцам) отчета выберите срез **District Manager** (Региональный менеджер). 

    Так как вы уже создали срез **District Manager** (**DM**) (Региональный менеджер) на странице **обзора**, отображается панель **Синхронизация срезов** в следующем виде.
    
    ![Снимок экрана: синхронизация среза District Monthly Sales (Продажи в регионе по месяцам).](media/power-bi-visualization-slicers/9-sync-slicers.png)
    
1. В столбце **Синхронизация** области **Синхронизация срезов** выберите страницы **обзора**, **District Monthly Sales** (Продажи в регионе по месяцам) и **New Stores** (Новые магазины). 

    Такой выбор приводит к синхронизации среза **District Monthly Sales** (Продажи в регионе по месяцам) на этих трех страницах. 
    
1. В столбце **Видимые** области **Синхронизация срезов** выберите страницу **New Stores** (Новые магазины). 

    Такой выбор приводит к отображению среза **District Monthly Sales** (Продажи в регионе по месяцам) на этих трех страницах. Теперь панель **Синхронизация срезов** выглядит следующим образом.

    ![Снимок экрана: выбор страниц на панели "Синхронизация срезов".](media/power-bi-visualization-slicers/power-bi-sync-slicer-finished.png)

1. Обратите внимание на синхронизацию среза и его отображение на других страницах. Теперь на странице **District Monthly Sales** (Продажи районов по месяцам) для среза **District Manager** (Региональный менеджер) выбраны те же параметры, что и на странице **обзора**. Срез **District Manager** (Региональный менеджер) на странице **New Stores** (Новые магазины) теперь отображается, а выбранные для него параметры влияют на выбор параметров, отображаемых в срезе **Store Name** (Название магазина). 
    
    >[!TIP]
    >Несмотря на то что срез изначально появляется на синхронизированных страницах в том же размере и положении, что и на исходной странице, вы можете независимо перемещать и форматировать синхронизированные срезы, а также изменять их размер на разных страницах. 

    >[!NOTE]
    >Если вы синхронизируете срез со страницей, но не сделаете его видимым на этой странице, изменение параметров среза, сделанное на других страницах, все еще будет фильтровать данные на этой странице.
 
## <a name="filtering-slicers"></a>Фильтрация срезов
К срезам можно применять фильтры на уровне визуальных элементов, чтобы сократить список значений, отображаемых в срезе. Например, можно отфильтровать пустые значения из среза списка или определенные даты из среза диапазона. Это влияет только на *значения, отображаемые в срезе*, но не на *фильтр, который срез применяет к другим визуальным элементам* при выборе. Например, предположим, что вы применяете фильтр к срезу диапазона, чтобы отображались только определенные даты. При выборе на срезе будут отображаться только первая и последняя даты диапазона. Но в других визуальных элементах будут отображаться и другие даты. После изменения выбранного диапазона в срезе другие визуальные элементы обновятся. Если очистить срез, снова отобразятся все даты.

Дополнительные сведения о фильтрах на уровне визуальных элементов см. в статье [Типы фильтров](../create-reports/power-bi-report-filter-types.md).

## <a name="format-slicers"></a>Форматирование срезов
В зависимости от типа среза доступны различные параметры форматирования. Используя ориентацию **Horizontal** (По горизонтали), макет **Responsive** (Гибкий) и выделение цветом **элементов**, вы можете создавать кнопки или плитки, а не стандартные элементы списка. Кроме того, вы можете изменять размер элемента среза в соответствии с различными размерами экрана и макетов.  

1. Выбрав на любой странице срез **District Manager** (Региональный менеджер), на панели **Визуализации** щелкните значок **формата** ![Снимок экрана: значок формата.](media/power-bi-visualization-slicers/power-bi-paintroller.png), чтобы отобразить элементы управления форматированием. 
    
    ![Снимок экрана: выбор параметров форматирования.](media/power-bi-visualization-slicers/3-format.png)
    
1. Щелкните стрелки раскрывающегося списка рядом с каждой категорией, чтобы отобразить и изменить параметры. 

### <a name="general-options"></a>Общие параметры
1. В области **Формат** выберите **Общие**, выберите красный цвет в поле **Цвет контура**, а затем измените значение **Толщина контура** на *2*. 

    Это изменяет цвет и толщину контуров заголовков и элементов, а также подчеркиваний.

1. В разделе **Ориентация** по умолчанию выбрано значение **По вертикали**. Выберите **По горизонтали**, чтобы создать срез с горизонтально расположенными плитками или кнопками и стрелками прокрутки для доступа к элементам, которые не помещаются в срез.
    
    ![Снимок экрана: выбор общих параметров.](media/power-bi-visualization-slicers/4-horizontal.png)
    
1. Задайте для макета **Responsive** (Гибкий) значение **Включено**, чтобы изменить размер и расположение элементов срезов в соответствии с размерами экрана просмотра и среза. 

    Для срезов списка гибкий макет не позволяет обрезать элементы на маленьких экранах. Он доступен только в горизонтальной ориентации. Для срезов диапазона адаптивное форматирование изменяет стиль среза и обеспечивает более гибкое изменение размера. Оба типа срезов при маленьком размере становятся значками фильтров.
    
    ![Снимок экрана: настройка гибкого макета.](media/power-bi-visualization-slicers/5-responsive.png)
    
    >[!NOTE]
    >Изменения гибкого макета могут переопределять заданное вами форматирование заголовков и элементов. 
    
1. Вы можете задать положение и размер среза с помощью числовых параметров **X Position** (Позиция по оси X), **Y Position** (Позиция по оси Y), **Width** (Ширина) и **Height** (Высота) либо переместить срез и изменить его размер прямо на холсте. 

    Поэкспериментируйте с различными размерами и расположением элементов и обратите внимание на то, как изменяется адаптивное форматирование. Эти параметры доступны только при выборе горизонтальных ориентаций. 

    ![Снимок экрана: параметры по горизонтали.](media/power-bi-visualization-slicers/6-buttons.png)

Дополнительные сведения о горизонтальных ориентациях и гибких макетах см. в разделе [Создание адаптивного визуального элемента "Срез" в Power BI](../create-reports/power-bi-slicer-filter-responsive.md).

### <a name="selection-controls-options-list-slicers-only"></a>Параметры для элементов управления выбором (только для срезов списка)
1. В разделе **Элементы управления выбором** задайте для параметра **Показать параметр "Выбрать все"** значение **Включено**, чтобы добавить элемент **Select All** в срез. 

    По умолчанию для параметра **Показать параметр "Выбрать все"** задано значение **Отключено**. Если этот параметр включен, при его переключении выполняется или отменяется выбор всех элементов. Когда выбраны все элементы, выбор одного элемента отменяет его выделение, позволяя реализовать фильтр типа *не является*.
    
    ![Снимок экрана: элементы управления выбором.](media/power-bi-visualization-slicers/7-select-all.png)
    
1. Выберите для параметра **Единичное выделение** значение **Отключено**, чтобы выбирать несколько элементов без удержания клавиши **CTRL**. 

    По умолчанию для параметра **Единичное выделение** задано значение **Включено**. При выборе элемента он выбирается, а удерживая клавишу **CTRL**, можно выбрать несколько элементов. Повторный выбор элемента отменяет его выделение.

### <a name="title-options"></a>Параметры заголовка
По умолчанию для параметра **Заголовок** задано значение **Включено**. При этом отображается имя поля данных в верхней части среза. Также можно изменить заголовок, что особенно удобно для иерархических срезов. Дополнительные сведения см. в разделе [Изменение заголовка](../create-reports/power-bi-slicer-hierarchy-multiple-fields.md#change-the-title) статьи "Добавление нескольких полей в иерархический срез".

- Для работы с этой статьей отформатируйте текст заголовка следующим образом. 
   - **Цвет шрифта**: красный
   - **Размер текста**: **14 пт**
   - **Выравнивание**: **по центру**
   - **Семейство шрифтов**: **Arial Black**


### <a name="items-options"></a>Параметры элементов

Параметры элементов доступны только для срезов списка.

1. Для работы с этой статьей отформатируйте параметры **элементов** следующим образом.
    - **Цвет шрифта**: черный
    - **Фон**: светло-красный
    - **Размер текста**: **10 пт**
    - **Семейство шрифтов**: **Arial**
 
1. В области **Контур** выберите **Рамка**, чтобы нарисовать вокруг каждого элемента рамку с размером и цветом, заданными в параметрах **Общие**. 
    
    ![Снимок экрана: параметры контура рамки.](media/power-bi-visualization-slicers/8-formatted.png)
    
    >[!TIP]
    >- При выборе параметра **Общие** > **Ориентация** > **По горизонтали** к невыделенным элементам применяются выбранные цвета текста и фона. В выделенных элементах используются системные значения по умолчанию — обычно это черный фон с белым текстом.
    >- При выборе параметра **Общие** > **Ориентация > По вертикали** элементы всегда используют заданный цвет, а выделенные флажки всегда черные. 

### <a name="datenumeric-inputs-and-slider-options"></a>Параметры ввода дат или чисел и параметры ползунка

Параметры ввода дат или чисел и параметры ползунка доступны только для срезов с ползунком диапазона.

- Для срезов списка входные параметры даты или чисел соответствуют параметрам **Элементы**, за исключением отсутствия параметров подчеркивания и контура.
- Параметры **Ползунок** позволяют задать цвет ползунка диапазона или выбрать значение **Отключено**, оставив только числовой ввод.

### <a name="other-formatting-options"></a>Другие параметры форматирования
Другие параметры форматирования по умолчанию имеют значение **Отключено**. Чтобы управлять этими параметрами, задайте для них значение **Включено**. 

- **Фон**: добавляет цвет фона для среза и задает его прозрачность.
- **Заблокировать пропорции**: При изменении размера среза сохраняйте его относительную высоту и ширину.
- **Граница**: добавляет рамку вокруг среза и задает ее цвет. Эта рамка среза задается независимо от параметров **Общие**.
- **Тень.** Позволяет добавить к ползунку тень.

## <a name="next-steps"></a>Дальнейшие действия
Дополнительные сведения о срезах см. в следующих статьях:

- [Срезы числового диапазона.](../create-reports/desktop-slicer-numeric-range.md)
- [Срезы относительных дат.](desktop-slicer-filter-date-range.md)
- [Срезы относительного времени.](../create-reports/slicer-filter-relative-time.md)
- [Срезы с изменяемыми размерами](../create-reports/power-bi-slicer-filter-responsive.md) и гибким макетом.
- [Иерархические срезы](../create-reports/power-bi-slicer-hierarchy-multiple-fields.md) с несколькими полями.
